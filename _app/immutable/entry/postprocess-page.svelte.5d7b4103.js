import{S as Ke,i as He,s as We,J as Qe,k as W,a as ge,l as V,m as Y,c as _e,h as B,n as z,b as Pe,G as v,H as Ue,O as $e,o as Ve,P as Ge,T as Be,U as Ne,w as we,q as xe,y as Ie,r as Re,z as De,A as Fe,K as qe,g as Se,d as Ae,B as Te,N as Ze}from"../chunks/index.651f780f.js";import{c as Ye,g as Xe,a as je,p as et}from"../chunks/utils.c9c48b1a.js";var Je={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(R,f){(function(k,d){R.exports=d()})(Ye,function k(){var d=typeof self<"u"?self:typeof window<"u"?window:d!==void 0?d:{},U=!d.document&&!!d.postMessage,j=d.IS_PAPA_WORKER||!1,p={},b=0,l={parse:function(t,e){var r=(e=e||{}).dynamicTyping||!1;if(w(r)&&(e.dynamicTypingFunction=r,r={}),e.dynamicTyping=r,e.transform=!!w(e.transform)&&e.transform,e.worker&&l.WORKERS_SUPPORTED){var s=function(){if(!l.WORKERS_SUPPORTED)return!1;var u=(N=d.URL||d.webkitURL||null,y=k.toString(),l.BLOB_URL||(l.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",y,")();"],{type:"text/javascript"})))),_=new d.Worker(u),N,y;return _.onmessage=g,_.id=b++,p[_.id]=_}();return s.userStep=e.step,s.userChunk=e.chunk,s.userComplete=e.complete,s.userError=e.error,e.step=w(e.step),e.chunk=w(e.chunk),e.complete=w(e.complete),e.error=w(e.error),delete e.worker,void s.postMessage({input:t,config:e,workerId:s.id})}var a=null;return l.NODE_STREAM_INPUT,typeof t=="string"?(t=function(u){return u.charCodeAt(0)===65279?u.slice(1):u}(t),a=e.download?new J(e):new Z(e)):t.readable===!0&&w(t.read)&&w(t.on)?a=new ee(e):(d.File&&t instanceof File||t instanceof Object)&&(a=new ue(e)),a.stream(t)},unparse:function(t,e){var r=!1,s=!0,a=",",u=`\r
`,_='"',N=_+_,y=!1,o=null,I=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||l.BAD_DELIMITERS.filter(function(i){return e.delimiter.indexOf(i)!==-1}).length||(a=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(r=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(y=e.skipEmptyLines),typeof e.newline=="string"&&(u=e.newline),typeof e.quoteChar=="string"&&(_=e.quoteChar),typeof e.header=="boolean"&&(s=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(N=e.escapeChar+_),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(I=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var h=new RegExp(le(_),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return X(null,t,y);if(typeof t[0]=="object")return X(o||Object.keys(t[0]),t,y)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),X(t.fields||[],t.data||[],y);throw new Error("Unable to serialize unrecognized input");function X(i,D,$){var T="";typeof i=="string"&&(i=JSON.parse(i)),typeof D=="string"&&(D=JSON.parse(D));var G=Array.isArray(i)&&0<i.length,K=!Array.isArray(D[0]);if(G&&s){for(var H=0;H<i.length;H++)0<H&&(T+=a),T+=A(i[H],H);0<D.length&&(T+=u)}for(var n=0;n<D.length;n++){var c=G?i.length:D[n].length,F=!1,L=G?Object.keys(D[n]).length===0:D[n].length===0;if($&&!G&&(F=$==="greedy"?D[n].join("").trim()==="":D[n].length===1&&D[n][0].length===0),$==="greedy"&&G){for(var m=[],q=0;q<c;q++){var P=K?i[q]:q;m.push(D[n][P])}F=m.join("").trim()===""}if(!F){for(var C=0;C<c;C++){0<C&&!L&&(T+=a);var ae=G&&K?i[C]:C;T+=A(D[n][ae],C)}n<D.length-1&&(!$||0<c&&!L)&&(T+=u)}}return T}function A(i,D){if(i==null)return"";if(i.constructor===Date)return JSON.stringify(i).slice(1,25);var $=!1;I&&typeof i=="string"&&I.test(i)&&(i="'"+i,$=!0);var T=i.toString().replace(h,N);return($=$||r===!0||typeof r=="function"&&r(i,D)||Array.isArray(r)&&r[D]||function(G,K){for(var H=0;H<K.length;H++)if(-1<G.indexOf(K[H]))return!0;return!1}(T,l.BAD_DELIMITERS)||-1<T.indexOf(a)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?_+T+_:T}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!U&&!!d.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=pe,l.ParserHandle=oe,l.NetworkStreamer=J,l.FileStreamer=ue,l.StringStreamer=Z,l.ReadableStreamStreamer=ee,d.jQuery){var ie=d.jQuery;ie.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(u){if(!(ie(this).prop("tagName").toUpperCase()==="INPUT"&&ie(this).attr("type").toLowerCase()==="file"&&d.FileReader)||!this.files||this.files.length===0)return!0;for(var _=0;_<this.files.length;_++)r.push({file:this.files[_],inputElem:this,instanceConfig:ie.extend({},e)})}),s(),this;function s(){if(r.length!==0){var u,_,N,y,o=r[0];if(w(t.before)){var I=t.before(o.file,o.inputElem);if(typeof I=="object"){if(I.action==="abort")return u="AbortError",_=o.file,N=o.inputElem,y=I.reason,void(w(t.error)&&t.error({name:u},_,N,y));if(I.action==="skip")return void a();typeof I.config=="object"&&(o.instanceConfig=ie.extend(o.instanceConfig,I.config))}else if(I==="skip")return void a()}var h=o.instanceConfig.complete;o.instanceConfig.complete=function(X){w(h)&&h(X,o.file,o.inputElem),a()},l.parse(o.file,o.instanceConfig)}else w(t.complete)&&t.complete()}function a(){r.splice(0,1),s()}}}function O(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var r=he(e);r.chunkSize=parseInt(r.chunkSize),e.step||e.chunk||(r.chunkSize=null),this._handle=new oe(r),(this._handle.streamer=this)._config=r}.call(this,t),this.parseChunk=function(e,r){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);s!==void 0&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var u=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var _=u.meta.cursor;this._finished||(this._partialLine=a.substring(_-this._baseIndex),this._baseIndex=_),u&&u.data&&(this._rowCount+=u.data.length);var N=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(j)d.postMessage({results:u,workerId:l.WORKER_ID,finished:N});else if(w(this._config.chunk)&&!r){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!N||!w(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):j&&this._config.error&&d.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function J(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),O.call(this,t),this._nextChunk=U?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),U||(e.onload=te(this._chunkLoaded,this),e.onerror=te(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!U),this._config.downloadRequestHeaders){var r=this._config.downloadRequestHeaders;for(var s in r)e.setRequestHeader(s,r[s])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{e.send(this._config.downloadRequestBody)}catch(u){this._chunkError(u.message)}U&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(r){var s=r.getResponseHeader("Content-Range");return s===null?-1:parseInt(s.substring(s.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(r){var s=e.statusText||r;this._sendError(new Error(s))}}function ue(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),O.call(this,t);var s=typeof FileReader<"u";this.stream=function(a){this._input=a,r=a.slice||a.webkitSlice||a.mozSlice,s?((e=new FileReader).onload=te(this._chunkLoaded,this),e.onerror=te(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var u=Math.min(this._start+this._config.chunkSize,this._input.size);a=r.call(a,this._start,u)}var _=e.readAsText(a,this._config.encoding);s||this._chunkLoaded({target:{result:_}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(e.error)}}function Z(t){var e;O.call(this,t=t||{}),this.stream=function(r){return e=r,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var r,s=this._config.chunkSize;return s?(r=e.substring(0,s),e=e.substring(s)):(r=e,e=""),this._finished=!e,this.parseChunk(r)}}}function ee(t){O.call(this,t=t||{});var e=[],r=!0,s=!1;this.pause=function(){O.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){O.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=te(function(a){try{e.push(typeof a=="string"?a:a.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(u){this._streamError(u)}},this),this._streamError=te(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=te(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function oe(t){var e,r,s,a=Math.pow(2,53),u=-a,_=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,N=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,y=this,o=0,I=0,h=!1,X=!1,A=[],i={data:[],errors:[],meta:{}};if(w(t.step)){var D=t.step;t.step=function(n){if(i=n,G())T();else{if(T(),i.data.length===0)return;o+=n.data.length,t.preview&&o>t.preview?r.abort():(i.data=i.data[0],D(i,y))}}}function $(n){return t.skipEmptyLines==="greedy"?n.join("").trim()==="":n.length===1&&n[0].length===0}function T(){return i&&s&&(H("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines&&(i.data=i.data.filter(function(n){return!$(n)})),G()&&function(){if(!i)return;function n(F,L){w(t.transformHeader)&&(F=t.transformHeader(F,L)),A.push(F)}if(Array.isArray(i.data[0])){for(var c=0;G()&&c<i.data.length;c++)i.data[c].forEach(n);i.data.splice(0,1)}else i.data.forEach(n)}(),function(){if(!i||!t.header&&!t.dynamicTyping&&!t.transform)return i;function n(F,L){var m,q=t.header?{}:[];for(m=0;m<F.length;m++){var P=m,C=F[m];t.header&&(P=m>=A.length?"__parsed_extra":A[m]),t.transform&&(C=t.transform(C,P)),C=K(P,C),P==="__parsed_extra"?(q[P]=q[P]||[],q[P].push(C)):q[P]=C}return t.header&&(m>A.length?H("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+m,I+L):m<A.length&&H("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+m,I+L)),q}var c=1;return!i.data.length||Array.isArray(i.data[0])?(i.data=i.data.map(n),c=i.data.length):i.data=n(i.data,0),t.header&&i.meta&&(i.meta.fields=A),I+=c,i}()}function G(){return t.header&&A.length===0}function K(n,c){return F=n,t.dynamicTypingFunction&&t.dynamicTyping[F]===void 0&&(t.dynamicTyping[F]=t.dynamicTypingFunction(F)),(t.dynamicTyping[F]||t.dynamicTyping)===!0?c==="true"||c==="TRUE"||c!=="false"&&c!=="FALSE"&&(function(L){if(_.test(L)){var m=parseFloat(L);if(u<m&&m<a)return!0}return!1}(c)?parseFloat(c):N.test(c)?new Date(c):c===""?null:c):c;var F}function H(n,c,F,L){var m={type:n,code:c,message:F};L!==void 0&&(m.row=L),i.errors.push(m)}this.parse=function(n,c,F){var L=t.quoteChar||'"';if(t.newline||(t.newline=function(P,C){P=P.substring(0,1048576);var ae=new RegExp(le(C)+"([^]*?)"+le(C),"gm"),re=(P=P.replace(ae,"")).split("\r"),ne=P.split(`
`),ce=1<ne.length&&ne[0].length<re[0].length;if(re.length===1||ce)return`
`;for(var se=0,S=0;S<re.length;S++)re[S][0]===`
`&&se++;return se>=re.length/2?`\r
`:"\r"}(n,L)),s=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(n),i.meta.delimiter=t.delimiter);else{var m=function(P,C,ae,re,ne){var ce,se,S,M;ne=ne||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var me=0;me<ne.length;me++){var x=ne[me],Ce=0,ve=0,Ee=0;S=void 0;for(var ye=new pe({comments:re,delimiter:x,newline:C,preview:10}).parse(P),ke=0;ke<ye.data.length;ke++)if(ae&&$(ye.data[ke]))Ee++;else{var be=ye.data[ke].length;ve+=be,S!==void 0?0<be&&(Ce+=Math.abs(be-S),S=be):S=be}0<ye.data.length&&(ve/=ye.data.length-Ee),(se===void 0||Ce<=se)&&(M===void 0||M<ve)&&1.99<ve&&(se=Ce,ce=x,M=ve)}return{successful:!!(t.delimiter=ce),bestDelimiter:ce}}(n,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);m.successful?t.delimiter=m.bestDelimiter:(s=!0,t.delimiter=l.DefaultDelimiter),i.meta.delimiter=t.delimiter}var q=he(t);return t.preview&&t.header&&q.preview++,e=n,r=new pe(q),i=r.parse(e,c,F),T(),h?{meta:{paused:!0}}:i||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,r.abort(),e=w(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){y.streamer._halted?(h=!1,y.streamer.parseChunk(e,!0)):setTimeout(y.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,r.abort(),i.meta.aborted=!0,w(t.complete)&&t.complete(i),e=""}}function le(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pe(t){var e,r=(t=t||{}).delimiter,s=t.newline,a=t.comments,u=t.step,_=t.preview,N=t.fastMode,y=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(y=t.escapeChar),(typeof r!="string"||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=","),a===r)throw new Error("Comment character same as delimiter");a===!0?a="#":(typeof a!="string"||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=!1),s!==`
`&&s!=="\r"&&s!==`\r
`&&(s=`
`);var o=0,I=!1;this.parse=function(h,X,A){if(typeof h!="string")throw new Error("Input must be a string");var i=h.length,D=r.length,$=s.length,T=a.length,G=w(u),K=[],H=[],n=[],c=o=0;if(!h)return fe();if(t.header&&!X){var F=h.split(s)[0].split(r),L=[],m={},q=!1;for(var P in F){var C=F[P];w(t.transformHeader)&&(C=t.transformHeader(C,P));var ae=C,re=m[C]||0;for(0<re&&(q=!0,ae=C+"_"+re),m[C]=re+1;L.includes(ae);)ae=ae+"_"+re;L.push(ae)}if(q){var ne=h.split(s);ne[0]=L.join(r),h=ne.join(s)}}if(N||N!==!1&&h.indexOf(e)===-1){for(var ce=h.split(s),se=0;se<ce.length;se++){if(n=ce[se],o+=n.length,se!==ce.length-1)o+=s.length;else if(A)return fe();if(!a||n.substring(0,T)!==a){if(G){if(K=[],Ee(n.split(r)),Oe(),I)return fe()}else Ee(n.split(r));if(_&&_<=se)return K=K.slice(0,_),fe(!0)}}return fe()}for(var S=h.indexOf(r,o),M=h.indexOf(s,o),me=new RegExp(le(y)+le(e),"g"),x=h.indexOf(e,o);;)if(h[o]!==e)if(a&&n.length===0&&h.substring(o,o+T)===a){if(M===-1)return fe();o=M+$,M=h.indexOf(s,o),S=h.indexOf(r,o)}else if(S!==-1&&(S<M||M===-1))n.push(h.substring(o,S)),o=S+D,S=h.indexOf(r,o);else{if(M===-1)break;if(n.push(h.substring(o,M)),be(M+$),G&&(Oe(),I))return fe();if(_&&K.length>=_)return fe(!0)}else for(x=o,o++;;){if((x=h.indexOf(e,x+1))===-1)return A||H.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:o}),ke();if(x===i-1)return ke(h.substring(o,x).replace(me,e));if(e!==y||h[x+1]!==y){if(e===y||x===0||h[x-1]!==y){S!==-1&&S<x+1&&(S=h.indexOf(r,x+1)),M!==-1&&M<x+1&&(M=h.indexOf(s,x+1));var Ce=ye(M===-1?S:Math.min(S,M));if(h.substr(x+1+Ce,D)===r){n.push(h.substring(o,x).replace(me,e)),h[o=x+1+Ce+D]!==e&&(x=h.indexOf(e,o)),S=h.indexOf(r,o),M=h.indexOf(s,o);break}var ve=ye(M);if(h.substring(x+1+ve,x+1+ve+$)===s){if(n.push(h.substring(o,x).replace(me,e)),be(x+1+ve+$),S=h.indexOf(r,o),x=h.indexOf(e,o),G&&(Oe(),I))return fe();if(_&&K.length>=_)return fe(!0);break}H.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:o}),x++}}else x++}return ke();function Ee(de){K.push(de),c=o}function ye(de){var ze=0;if(de!==-1){var Me=h.substring(x+1,de);Me&&Me.trim()===""&&(ze=Me.length)}return ze}function ke(de){return A||(de===void 0&&(de=h.substring(o)),n.push(de),o=i,Ee(n),G&&Oe()),fe()}function be(de){o=de,Ee(n),n=[],M=h.indexOf(s,o)}function fe(de){return{data:K,errors:H,meta:{delimiter:r,linebreak:s,aborted:I,truncated:!!de,cursor:c+(X||0)}}}function Oe(){u(fe()),K=[],H=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return o}}function g(t){var e=t.data,r=p[e.workerId],s=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){s=!0,E(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Q,resume:Q};if(w(r.userStep)){for(var u=0;u<e.results.data.length&&(r.userStep({data:e.results.data[u],errors:e.results.errors,meta:e.results.meta},a),!s);u++);delete e.results}else w(r.userChunk)&&(r.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!s&&E(e.workerId,e.results)}function E(t,e){var r=p[t];w(r.userComplete)&&r.userComplete(e),r.terminate(),delete p[t]}function Q(){throw new Error("Not implemented.")}function he(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=he(t[r]);return e}function te(t,e){return function(){t.apply(e,arguments)}}function w(t){return typeof t=="function"}return j&&(d.onmessage=function(t){var e=t.data;if(l.WORKER_ID===void 0&&e&&(l.WORKER_ID=e.workerId),typeof e.input=="string")d.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(d.File&&e.input instanceof File||e.input instanceof Object){var r=l.parse(e.input,e.config);r&&d.postMessage({workerId:l.WORKER_ID,results:r,finished:!0})}}),(J.prototype=Object.create(O.prototype)).constructor=J,(ue.prototype=Object.create(O.prototype)).constructor=ue,(Z.prototype=Object.create(Z.prototype)).constructor=Z,(ee.prototype=Object.create(O.prototype)).constructor=ee,l})})(Je);var tt=Je.exports;const rt=Xe(tt);function nt(R){let f,k,d,U,j;return{c(){f=W("div"),k=W("img"),d=ge(),U=W("canvas"),this.h()},l(p){f=V(p,"DIV",{class:!0});var b=Y(f);k=V(b,"IMG",{class:!0}),d=_e(b),U=V(b,"CANVAS",{class:!0}),Y(U).forEach(B),b.forEach(B),this.h()},h(){z(k,"class","absolute left-1/2 -translate-x-1/2 h-full object-contain"),z(U,"class","z-10 absolute left-1/2 -translate-x-1/2 h-full"),z(f,"class",j=(R[2].class??"")+" relative")},m(p,b){Pe(p,f,b),v(f,k),R[4](k),v(f,d),v(f,U),R[5](U)},p(p,[b]){b&4&&j!==(j=(p[2].class??"")+" relative")&&z(f,"class",j)},i:Ue,o:Ue,d(p){p&&B(f),R[4](null),R[5](null)}}}function st(R,f,k){let{persona:d}=f;const U=$e();let j,p,b,l=1,ie=et[d],O;Ve(()=>{if(ie==null){je(`Error: Persona SVG path of ${d} was not found.`);return}J(),k(1,O.onload=ue,O),k(1,O.src=ie,O),j=new ResizeObserver(oe),j.observe(p)}),Ge(()=>{p&&j.unobserve(p)});function J(){const g=p.getContext("2d");if(g==null){je(`Error: Could not get context of canvas for ${d}.`);return}b=g}function ue(){const g=O.getBoundingClientRect();Z(g.width,g.height),ee(g.width,g.height),g.width,g.height,l=g.width/O.width,U("scaleFactorUpdate",l)}function Z(g,E){const Q=window.devicePixelRatio||1;k(0,p.width=g*Q,p),k(0,p.height=E*Q,p),b.scale(Q,Q)}function ee(g,E){O.classList.remove("hidden"),b.drawImage(O,0,0,g,E),b.globalCompositeOperation="source-atop",O.classList.add("hidden")}function oe(){p.getBoundingClientRect()}function le(g){we[g?"unshift":"push"](()=>{O=g,k(1,O)})}function pe(g){we[g?"unshift":"push"](()=>{p=g,k(0,p)})}return R.$$set=g=>{k(2,f=Be(Be({},f),Ne(g))),"persona"in g&&k(3,d=g.persona)},f=Ne(f),[p,O,f,d,le,pe]}class Le extends Ke{constructor(f){super(),He(this,f,st,nt,We,{persona:3})}get persona(){return this.$$.ctx[3]}set persona(f){this.$$set({persona:f}),Qe()}}function it(R){let f,k,d,U,j,p,b,l,ie,O,J,ue,Z,ee,oe,le,pe,g,E,Q,he,te,w,t,e,r,s,a,u,_,N,y,o,I,h,X,A,i,D,$,T={class:"flex-grow",persona:"FemaleFront"};J=new Le({props:T}),R[8](J),J.$on("scaleFactorUpdate",R[5]);let G={class:"flex-grow",persona:"FemaleBack"};g=new Le({props:G}),R[9](g);let K={class:"flex-grow",persona:"MaleFront"};e=new Le({props:K}),R[10](e),e.$on("scaleFactorUpdate",R[5]);let H={class:"flex-grow",persona:"MaleBack"};return y=new Le({props:H}),R[11](y),{c(){f=W("section"),k=W("header"),d=W("button"),U=xe("Load data"),j=ge(),p=W("div"),b=W("div"),l=W("span"),ie=xe("Female Front"),O=ge(),Ie(J.$$.fragment),ue=ge(),Z=W("div"),ee=W("div"),oe=W("span"),le=xe("Female Back"),pe=ge(),Ie(g.$$.fragment),E=ge(),Q=W("div"),he=W("div"),te=W("span"),w=xe("Male Front"),t=ge(),Ie(e.$$.fragment),r=ge(),s=W("div"),a=W("div"),u=W("span"),_=xe("Male Back"),N=ge(),Ie(y.$$.fragment),o=ge(),I=W("aside"),h=xe("aside"),X=ge(),A=W("input"),this.h()},l(n){f=V(n,"SECTION",{class:!0});var c=Y(f);k=V(c,"HEADER",{class:!0});var F=Y(k);d=V(F,"BUTTON",{class:!0});var L=Y(d);U=Re(L,"Load data"),L.forEach(B),F.forEach(B),j=_e(c),p=V(c,"DIV",{class:!0});var m=Y(p);b=V(m,"DIV",{class:!0});var q=Y(b);l=V(q,"SPAN",{class:!0});var P=Y(l);ie=Re(P,"Female Front"),P.forEach(B),q.forEach(B),O=_e(m),De(J.$$.fragment,m),m.forEach(B),ue=_e(c),Z=V(c,"DIV",{class:!0});var C=Y(Z);ee=V(C,"DIV",{class:!0});var ae=Y(ee);oe=V(ae,"SPAN",{class:!0});var re=Y(oe);le=Re(re,"Female Back"),re.forEach(B),ae.forEach(B),pe=_e(C),De(g.$$.fragment,C),C.forEach(B),E=_e(c),Q=V(c,"DIV",{class:!0});var ne=Y(Q);he=V(ne,"DIV",{class:!0});var ce=Y(he);te=V(ce,"SPAN",{class:!0});var se=Y(te);w=Re(se,"Male Front"),se.forEach(B),ce.forEach(B),t=_e(ne),De(e.$$.fragment,ne),ne.forEach(B),r=_e(c),s=V(c,"DIV",{class:!0});var S=Y(s);a=V(S,"DIV",{class:!0});var M=Y(a);u=V(M,"SPAN",{class:!0});var me=Y(u);_=Re(me,"Male Back"),me.forEach(B),M.forEach(B),N=_e(S),De(y.$$.fragment,S),S.forEach(B),o=_e(c),I=V(c,"ASIDE",{class:!0});var x=Y(I);h=Re(x,"aside"),x.forEach(B),c.forEach(B),X=_e(n),A=V(n,"INPUT",{type:!0,class:!0,accept:!0}),this.h()},h(){z(d,"class","h-full px-2 hover:bg-neutral-700 text-neutral-100 text-xs hover:underline"),z(k,"class","z-10 col-start-1 col-end-4 flex items-center bg-neutral-600 border-b border-neutral-800 panel-shadow svelte-o7nck0"),z(l,"class","panel-tab active svelte-o7nck0"),z(b,"class","w-full h-5 panel-tabs svelte-o7nck0"),z(p,"class","flex flex-col border-r border-b border-neutral-300"),z(oe,"class","panel-tab svelte-o7nck0"),z(ee,"class","w-full h-5 panel-tabs svelte-o7nck0"),z(Z,"class","flex flex-col border-b border-neutral-300"),z(te,"class","panel-tab svelte-o7nck0"),z(he,"class","w-full h-5 panel-tabs svelte-o7nck0"),z(Q,"class","flex flex-col border-r border-neutral-300"),z(u,"class","panel-tab svelte-o7nck0"),z(a,"class","w-full h-5 panel-tabs svelte-o7nck0"),z(s,"class","flex flex-col"),z(I,"class","col-start-3 col-end-4 row-start-2 row-end-4 bg-neutral-600"),z(f,"class","grid workspace w-screen h-screen svelte-o7nck0"),z(A,"type","file"),z(A,"class","hidden"),z(A,"accept",".csv")},m(n,c){Pe(n,f,c),v(f,k),v(k,d),v(d,U),v(f,j),v(f,p),v(p,b),v(b,l),v(l,ie),v(p,O),Fe(J,p,null),v(f,ue),v(f,Z),v(Z,ee),v(ee,oe),v(oe,le),v(Z,pe),Fe(g,Z,null),v(f,E),v(f,Q),v(Q,he),v(he,te),v(te,w),v(Q,t),Fe(e,Q,null),v(f,r),v(f,s),v(s,a),v(a,u),v(u,_),v(s,N),Fe(y,s,null),v(f,o),v(f,I),v(I,h),Pe(n,X,c),Pe(n,A,c),R[12](A),i=!0,D||($=[qe(d,"click",R[7]),qe(A,"change",R[6])],D=!0)},p(n,[c]){const F={};J.$set(F);const L={};g.$set(L);const m={};e.$set(m);const q={};y.$set(q)},i(n){i||(Se(J.$$.fragment,n),Se(g.$$.fragment,n),Se(e.$$.fragment,n),Se(y.$$.fragment,n),i=!0)},o(n){Ae(J.$$.fragment,n),Ae(g.$$.fragment,n),Ae(e.$$.fragment,n),Ae(y.$$.fragment,n),i=!1},d(n){n&&B(f),R[8](null),Te(J),R[9](null),Te(g),R[10](null),Te(e),R[11](null),Te(y),n&&B(X),n&&B(A),R[12](null),D=!1,Ze($)}}}function at(R){return JSON.parse(R)}function ot(R,f,k){let d,U,j,p,b,l=[];function ie({detail:E}){}function O(){b.files&&b.files.length>0&&J(b.files[0])}function J(E){rt.parse(E,{worker:!0,header:!0,complete:ue})}function ue(E){for(let Q of E.data)if("interoMapPoints"in Q){const he=at(Q.interoMapPoints);l.push(he)}console.log(l)}Ve(()=>{});const Z=()=>b.click();function ee(E){we[E?"unshift":"push"](()=>{d=E,k(0,d)})}function oe(E){we[E?"unshift":"push"](()=>{U=E,k(1,U)})}function le(E){we[E?"unshift":"push"](()=>{j=E,k(2,j)})}function pe(E){we[E?"unshift":"push"](()=>{p=E,k(3,p)})}function g(E){we[E?"unshift":"push"](()=>{b=E,k(4,b)})}return[d,U,j,p,b,ie,O,Z,ee,oe,le,pe,g]}class ht extends Ke{constructor(f){super(),He(this,f,ot,it,We,{})}}export{ht as default};
