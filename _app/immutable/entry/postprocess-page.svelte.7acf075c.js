import{S as Ke,i as He,s as We,J as Je,k as W,a as de,l as V,m as Z,c as pe,h as B,n as z,b as Pe,G as v,H as Ue,O as $e,o as Ve,P as Ge,T as Be,U as Ne,w as we,q as xe,y as Ie,r as Re,z as Fe,A as De,K as qe,g as Ae,d as Se,B as Te,N as Ze}from"../chunks/index.651f780f.js";import{c as Ye,g as Xe,a as je,p as et}from"../chunks/utils.c9c48b1a.js";var Qe={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(x,f){(function(b,d){x.exports=d()})(Ye,function b(){var d=typeof self<"u"?self:typeof window<"u"?window:d!==void 0?d:{},U=!d.document&&!!d.postMessage,j=d.IS_PAPA_WORKER||!1,p={},k=0,l={parse:function(t,e){var r=(e=e||{}).dynamicTyping||!1;if(E(r)&&(e.dynamicTypingFunction=r,r={}),e.dynamicTyping=r,e.transform=!!E(e.transform)&&e.transform,e.worker&&l.WORKERS_SUPPORTED){var s=function(){if(!l.WORKERS_SUPPORTED)return!1;var u=(N=d.URL||d.webkitURL||null,y=b.toString(),l.BLOB_URL||(l.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",y,")();"],{type:"text/javascript"})))),g=new d.Worker(u),N,y;return g.onmessage=_,g.id=k++,p[g.id]=g}();return s.userStep=e.step,s.userChunk=e.chunk,s.userComplete=e.complete,s.userError=e.error,e.step=E(e.step),e.chunk=E(e.chunk),e.complete=E(e.complete),e.error=E(e.error),delete e.worker,void s.postMessage({input:t,config:e,workerId:s.id})}var a=null;return l.NODE_STREAM_INPUT,typeof t=="string"?(t=function(u){return u.charCodeAt(0)===65279?u.slice(1):u}(t),a=e.download?new Q(e):new G(e)):t.readable===!0&&E(t.read)&&E(t.on)?a=new ee(e):(d.File&&t instanceof File||t instanceof Object)&&(a=new ue(e)),a.stream(t)},unparse:function(t,e){var r=!1,s=!0,a=",",u=`\r
`,g='"',N=g+g,y=!1,o=null,O=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||l.BAD_DELIMITERS.filter(function(i){return e.delimiter.indexOf(i)!==-1}).length||(a=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(r=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(y=e.skipEmptyLines),typeof e.newline=="string"&&(u=e.newline),typeof e.quoteChar=="string"&&(g=e.quoteChar),typeof e.header=="boolean"&&(s=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(N=e.escapeChar+g),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(O=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var h=new RegExp(le(g),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return X(null,t,y);if(typeof t[0]=="object")return X(o||Object.keys(t[0]),t,y)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),X(t.fields||[],t.data||[],y);throw new Error("Unable to serialize unrecognized input");function X(i,I,J){var T="";typeof i=="string"&&(i=JSON.parse(i)),typeof I=="string"&&(I=JSON.parse(I));var $=Array.isArray(i)&&0<i.length,K=!Array.isArray(I[0]);if($&&s){for(var H=0;H<i.length;H++)0<H&&(T+=a),T+=S(i[H],H);0<I.length&&(T+=u)}for(var n=0;n<I.length;n++){var c=$?i.length:I[n].length,F=!1,L=$?Object.keys(I[n]).length===0:I[n].length===0;if(J&&!$&&(F=J==="greedy"?I[n].join("").trim()==="":I[n].length===1&&I[n][0].length===0),J==="greedy"&&$){for(var m=[],q=0;q<c;q++){var P=K?i[q]:q;m.push(I[n][P])}F=m.join("").trim()===""}if(!F){for(var w=0;w<c;w++){0<w&&!L&&(T+=a);var ae=$&&K?i[w]:w;T+=S(I[n][ae],w)}n<I.length-1&&(!J||0<c&&!L)&&(T+=u)}}return T}function S(i,I){if(i==null)return"";if(i.constructor===Date)return JSON.stringify(i).slice(1,25);var J=!1;O&&typeof i=="string"&&O.test(i)&&(i="'"+i,J=!0);var T=i.toString().replace(h,N);return(J=J||r===!0||typeof r=="function"&&r(i,I)||Array.isArray(r)&&r[I]||function($,K){for(var H=0;H<K.length;H++)if(-1<$.indexOf(K[H]))return!0;return!1}(T,l.BAD_DELIMITERS)||-1<T.indexOf(a)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?g+T+g:T}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!U&&!!d.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=A,l.ParserHandle=oe,l.NetworkStreamer=Q,l.FileStreamer=ue,l.StringStreamer=G,l.ReadableStreamStreamer=ee,d.jQuery){var ie=d.jQuery;ie.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(u){if(!(ie(this).prop("tagName").toUpperCase()==="INPUT"&&ie(this).attr("type").toLowerCase()==="file"&&d.FileReader)||!this.files||this.files.length===0)return!0;for(var g=0;g<this.files.length;g++)r.push({file:this.files[g],inputElem:this,instanceConfig:ie.extend({},e)})}),s(),this;function s(){if(r.length!==0){var u,g,N,y,o=r[0];if(E(t.before)){var O=t.before(o.file,o.inputElem);if(typeof O=="object"){if(O.action==="abort")return u="AbortError",g=o.file,N=o.inputElem,y=O.reason,void(E(t.error)&&t.error({name:u},g,N,y));if(O.action==="skip")return void a();typeof O.config=="object"&&(o.instanceConfig=ie.extend(o.instanceConfig,O.config))}else if(O==="skip")return void a()}var h=o.instanceConfig.complete;o.instanceConfig.complete=function(X){E(h)&&h(X,o.file,o.inputElem),a()},l.parse(o.file,o.instanceConfig)}else E(t.complete)&&t.complete()}function a(){r.splice(0,1),s()}}}function R(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var r=_e(e);r.chunkSize=parseInt(r.chunkSize),e.step||e.chunk||(r.chunkSize=null),this._handle=new oe(r),(this._handle.streamer=this)._config=r}.call(this,t),this.parseChunk=function(e,r){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);s!==void 0&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var u=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var g=u.meta.cursor;this._finished||(this._partialLine=a.substring(g-this._baseIndex),this._baseIndex=g),u&&u.data&&(this._rowCount+=u.data.length);var N=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(j)d.postMessage({results:u,workerId:l.WORKER_ID,finished:N});else if(E(this._config.chunk)&&!r){if(this._config.chunk(u,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);u=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(u.data),this._completeResults.errors=this._completeResults.errors.concat(u.errors),this._completeResults.meta=u.meta),this._completed||!N||!E(this._config.complete)||u&&u.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||u&&u.meta.paused||this._nextChunk(),u}this._halted=!0},this._sendError=function(e){E(this._config.error)?this._config.error(e):j&&this._config.error&&d.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function Q(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),R.call(this,t),this._nextChunk=U?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),U||(e.onload=te(this._chunkLoaded,this),e.onerror=te(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!U),this._config.downloadRequestHeaders){var r=this._config.downloadRequestHeaders;for(var s in r)e.setRequestHeader(s,r[s])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{e.send(this._config.downloadRequestBody)}catch(u){this._chunkError(u.message)}U&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(r){var s=r.getResponseHeader("Content-Range");return s===null?-1:parseInt(s.substring(s.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(r){var s=e.statusText||r;this._sendError(new Error(s))}}function ue(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),R.call(this,t);var s=typeof FileReader<"u";this.stream=function(a){this._input=a,r=a.slice||a.webkitSlice||a.mozSlice,s?((e=new FileReader).onload=te(this._chunkLoaded,this),e.onerror=te(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var u=Math.min(this._start+this._config.chunkSize,this._input.size);a=r.call(a,this._start,u)}var g=e.readAsText(a,this._config.encoding);s||this._chunkLoaded({target:{result:g}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(e.error)}}function G(t){var e;R.call(this,t=t||{}),this.stream=function(r){return e=r,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var r,s=this._config.chunkSize;return s?(r=e.substring(0,s),e=e.substring(s)):(r=e,e=""),this._finished=!e,this.parseChunk(r)}}}function ee(t){R.call(this,t=t||{});var e=[],r=!0,s=!1;this.pause=function(){R.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){R.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=te(function(a){try{e.push(typeof a=="string"?a:a.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(u){this._streamError(u)}},this),this._streamError=te(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=te(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function oe(t){var e,r,s,a=Math.pow(2,53),u=-a,g=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,N=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,y=this,o=0,O=0,h=!1,X=!1,S=[],i={data:[],errors:[],meta:{}};if(E(t.step)){var I=t.step;t.step=function(n){if(i=n,$())T();else{if(T(),i.data.length===0)return;o+=n.data.length,t.preview&&o>t.preview?r.abort():(i.data=i.data[0],I(i,y))}}}function J(n){return t.skipEmptyLines==="greedy"?n.join("").trim()==="":n.length===1&&n[0].length===0}function T(){return i&&s&&(H("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines&&(i.data=i.data.filter(function(n){return!J(n)})),$()&&function(){if(!i)return;function n(F,L){E(t.transformHeader)&&(F=t.transformHeader(F,L)),S.push(F)}if(Array.isArray(i.data[0])){for(var c=0;$()&&c<i.data.length;c++)i.data[c].forEach(n);i.data.splice(0,1)}else i.data.forEach(n)}(),function(){if(!i||!t.header&&!t.dynamicTyping&&!t.transform)return i;function n(F,L){var m,q=t.header?{}:[];for(m=0;m<F.length;m++){var P=m,w=F[m];t.header&&(P=m>=S.length?"__parsed_extra":S[m]),t.transform&&(w=t.transform(w,P)),w=K(P,w),P==="__parsed_extra"?(q[P]=q[P]||[],q[P].push(w)):q[P]=w}return t.header&&(m>S.length?H("FieldMismatch","TooManyFields","Too many fields: expected "+S.length+" fields but parsed "+m,O+L):m<S.length&&H("FieldMismatch","TooFewFields","Too few fields: expected "+S.length+" fields but parsed "+m,O+L)),q}var c=1;return!i.data.length||Array.isArray(i.data[0])?(i.data=i.data.map(n),c=i.data.length):i.data=n(i.data,0),t.header&&i.meta&&(i.meta.fields=S),O+=c,i}()}function $(){return t.header&&S.length===0}function K(n,c){return F=n,t.dynamicTypingFunction&&t.dynamicTyping[F]===void 0&&(t.dynamicTyping[F]=t.dynamicTypingFunction(F)),(t.dynamicTyping[F]||t.dynamicTyping)===!0?c==="true"||c==="TRUE"||c!=="false"&&c!=="FALSE"&&(function(L){if(g.test(L)){var m=parseFloat(L);if(u<m&&m<a)return!0}return!1}(c)?parseFloat(c):N.test(c)?new Date(c):c===""?null:c):c;var F}function H(n,c,F,L){var m={type:n,code:c,message:F};L!==void 0&&(m.row=L),i.errors.push(m)}this.parse=function(n,c,F){var L=t.quoteChar||'"';if(t.newline||(t.newline=function(P,w){P=P.substring(0,1048576);var ae=new RegExp(le(w)+"([^]*?)"+le(w),"gm"),re=(P=P.replace(ae,"")).split("\r"),ne=P.split(`
`),he=1<ne.length&&ne[0].length<re[0].length;if(re.length===1||he)return`
`;for(var se=0,D=0;D<re.length;D++)re[D][0]===`
`&&se++;return se>=re.length/2?`\r
`:"\r"}(n,L)),s=!1,t.delimiter)E(t.delimiter)&&(t.delimiter=t.delimiter(n),i.meta.delimiter=t.delimiter);else{var m=function(P,w,ae,re,ne){var he,se,D,M;ne=ne||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var me=0;me<ne.length;me++){var C=ne[me],Ce=0,ve=0,Ee=0;D=void 0;for(var ye=new A({comments:re,delimiter:C,newline:w,preview:10}).parse(P),be=0;be<ye.data.length;be++)if(ae&&J(ye.data[be]))Ee++;else{var ke=ye.data[be].length;ve+=ke,D!==void 0?0<ke&&(Ce+=Math.abs(ke-D),D=ke):D=ke}0<ye.data.length&&(ve/=ye.data.length-Ee),(se===void 0||Ce<=se)&&(M===void 0||M<ve)&&1.99<ve&&(se=Ce,he=C,M=ve)}return{successful:!!(t.delimiter=he),bestDelimiter:he}}(n,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);m.successful?t.delimiter=m.bestDelimiter:(s=!0,t.delimiter=l.DefaultDelimiter),i.meta.delimiter=t.delimiter}var q=_e(t);return t.preview&&t.header&&q.preview++,e=n,r=new A(q),i=r.parse(e,c,F),T(),h?{meta:{paused:!0}}:i||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,r.abort(),e=E(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){y.streamer._halted?(h=!1,y.streamer.parseChunk(e,!0)):setTimeout(y.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,r.abort(),i.meta.aborted=!0,E(t.complete)&&t.complete(i),e=""}}function le(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(t){var e,r=(t=t||{}).delimiter,s=t.newline,a=t.comments,u=t.step,g=t.preview,N=t.fastMode,y=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(y=t.escapeChar),(typeof r!="string"||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=","),a===r)throw new Error("Comment character same as delimiter");a===!0?a="#":(typeof a!="string"||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=!1),s!==`
`&&s!=="\r"&&s!==`\r
`&&(s=`
`);var o=0,O=!1;this.parse=function(h,X,S){if(typeof h!="string")throw new Error("Input must be a string");var i=h.length,I=r.length,J=s.length,T=a.length,$=E(u),K=[],H=[],n=[],c=o=0;if(!h)return ce();if(t.header&&!X){var F=h.split(s)[0].split(r),L=[],m={},q=!1;for(var P in F){var w=F[P];E(t.transformHeader)&&(w=t.transformHeader(w,P));var ae=w,re=m[w]||0;for(0<re&&(q=!0,ae=w+"_"+re),m[w]=re+1;L.includes(ae);)ae=ae+"_"+re;L.push(ae)}if(q){var ne=h.split(s);ne[0]=L.join(r),h=ne.join(s)}}if(N||N!==!1&&h.indexOf(e)===-1){for(var he=h.split(s),se=0;se<he.length;se++){if(n=he[se],o+=n.length,se!==he.length-1)o+=s.length;else if(S)return ce();if(!a||n.substring(0,T)!==a){if($){if(K=[],Ee(n.split(r)),Oe(),O)return ce()}else Ee(n.split(r));if(g&&g<=se)return K=K.slice(0,g),ce(!0)}}return ce()}for(var D=h.indexOf(r,o),M=h.indexOf(s,o),me=new RegExp(le(y)+le(e),"g"),C=h.indexOf(e,o);;)if(h[o]!==e)if(a&&n.length===0&&h.substring(o,o+T)===a){if(M===-1)return ce();o=M+J,M=h.indexOf(s,o),D=h.indexOf(r,o)}else if(D!==-1&&(D<M||M===-1))n.push(h.substring(o,D)),o=D+I,D=h.indexOf(r,o);else{if(M===-1)break;if(n.push(h.substring(o,M)),ke(M+J),$&&(Oe(),O))return ce();if(g&&K.length>=g)return ce(!0)}else for(C=o,o++;;){if((C=h.indexOf(e,C+1))===-1)return S||H.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:o}),be();if(C===i-1)return be(h.substring(o,C).replace(me,e));if(e!==y||h[C+1]!==y){if(e===y||C===0||h[C-1]!==y){D!==-1&&D<C+1&&(D=h.indexOf(r,C+1)),M!==-1&&M<C+1&&(M=h.indexOf(s,C+1));var Ce=ye(M===-1?D:Math.min(D,M));if(h.substr(C+1+Ce,I)===r){n.push(h.substring(o,C).replace(me,e)),h[o=C+1+Ce+I]!==e&&(C=h.indexOf(e,o)),D=h.indexOf(r,o),M=h.indexOf(s,o);break}var ve=ye(M);if(h.substring(C+1+ve,C+1+ve+J)===s){if(n.push(h.substring(o,C).replace(me,e)),ke(C+1+ve+J),D=h.indexOf(r,o),C=h.indexOf(e,o),$&&(Oe(),O))return ce();if(g&&K.length>=g)return ce(!0);break}H.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:o}),C++}}else C++}return be();function Ee(fe){K.push(fe),c=o}function ye(fe){var ze=0;if(fe!==-1){var Me=h.substring(C+1,fe);Me&&Me.trim()===""&&(ze=Me.length)}return ze}function be(fe){return S||(fe===void 0&&(fe=h.substring(o)),n.push(fe),o=i,Ee(n),$&&Oe()),ce()}function ke(fe){o=fe,Ee(n),n=[],M=h.indexOf(s,o)}function ce(fe){return{data:K,errors:H,meta:{delimiter:r,linebreak:s,aborted:O,truncated:!!fe,cursor:c+(X||0)}}}function Oe(){u(ce()),K=[],H=[]}},this.abort=function(){O=!0},this.getCharIndex=function(){return o}}function _(t){var e=t.data,r=p[e.workerId],s=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){s=!0,ge(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Y,resume:Y};if(E(r.userStep)){for(var u=0;u<e.results.data.length&&(r.userStep({data:e.results.data[u],errors:e.results.errors,meta:e.results.meta},a),!s);u++);delete e.results}else E(r.userChunk)&&(r.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!s&&ge(e.workerId,e.results)}function ge(t,e){var r=p[t];E(r.userComplete)&&r.userComplete(e),r.terminate(),delete p[t]}function Y(){throw new Error("Not implemented.")}function _e(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=_e(t[r]);return e}function te(t,e){return function(){t.apply(e,arguments)}}function E(t){return typeof t=="function"}return j&&(d.onmessage=function(t){var e=t.data;if(l.WORKER_ID===void 0&&e&&(l.WORKER_ID=e.workerId),typeof e.input=="string")d.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(d.File&&e.input instanceof File||e.input instanceof Object){var r=l.parse(e.input,e.config);r&&d.postMessage({workerId:l.WORKER_ID,results:r,finished:!0})}}),(Q.prototype=Object.create(R.prototype)).constructor=Q,(ue.prototype=Object.create(R.prototype)).constructor=ue,(G.prototype=Object.create(G.prototype)).constructor=G,(ee.prototype=Object.create(R.prototype)).constructor=ee,l})})(Qe);var tt=Qe.exports;const rt=Xe(tt);function nt(x){let f,b,d,U,j;return{c(){f=W("div"),b=W("img"),d=de(),U=W("canvas"),this.h()},l(p){f=V(p,"DIV",{class:!0});var k=Z(f);b=V(k,"IMG",{class:!0}),d=pe(k),U=V(k,"CANVAS",{class:!0}),Z(U).forEach(B),k.forEach(B),this.h()},h(){z(b,"class","absolute left-1/2 -translate-x-1/2 h-full object-contain"),z(U,"class","z-10 absolute left-1/2 -translate-x-1/2 h-full"),z(f,"class",j=(x[2].class??"")+" relative")},m(p,k){Pe(p,f,k),v(f,b),x[4](b),v(f,d),v(f,U),x[5](U)},p(p,[k]){k&4&&j!==(j=(p[2].class??"")+" relative")&&z(f,"class",j)},i:Ue,o:Ue,d(p){p&&B(f),x[4](null),x[5](null)}}}function st(x,f,b){let{persona:d}=f;const U=$e();let j,p,k,l=1,ie=et[d],R;Ve(()=>{if(ie==null){je(`Error: Persona SVG path of ${d} was not found.`);return}Q(),b(1,R.onload=ue,R),b(1,R.src=ie,R),j=new ResizeObserver(oe),j.observe(p)}),Ge(()=>{p&&j.unobserve(p)});function Q(){const _=p.getContext("2d");if(_==null){je(`Error: Could not get context of canvas for ${d}.`);return}k=_}function ue(){const _=R.getBoundingClientRect();G(_.width,_.height),ee(_.width,_.height),_.width,_.height,l=_.width/R.width,U("scaleFactorUpdate",l)}function G(_,ge){const Y=window.devicePixelRatio||1;b(0,p.width=_*Y,p),b(0,p.height=ge*Y,p),k.scale(Y,Y)}function ee(_,ge){R.classList.remove("hidden"),k.drawImage(R,0,0,_,ge),k.globalCompositeOperation="source-atop",R.classList.add("hidden")}function oe(){p.getBoundingClientRect()}function le(_){we[_?"unshift":"push"](()=>{R=_,b(1,R)})}function A(_){we[_?"unshift":"push"](()=>{p=_,b(0,p)})}return x.$$set=_=>{b(2,f=Be(Be({},f),Ne(_))),"persona"in _&&b(3,d=_.persona)},f=Ne(f),[p,R,f,d,le,A]}class Le extends Ke{constructor(f){super(),He(this,f,st,nt,We,{persona:3})}get persona(){return this.$$.ctx[3]}set persona(f){this.$$set({persona:f}),Je()}}function it(x){let f,b,d,U,j,p,k,l,ie,R,Q,ue,G,ee,oe,le,A,_,ge,Y,_e,te,E,t,e,r,s,a,u,g,N,y,o,O,h,X,S,i,I,J,T={class:"flex-grow",persona:"FemaleFront"};Q=new Le({props:T}),x[8](Q),Q.$on("scaleFactorUpdate",x[5]);let $={class:"flex-grow",persona:"FemaleBack"};_=new Le({props:$}),x[9](_);let K={class:"flex-grow",persona:"MaleFront"};e=new Le({props:K}),x[10](e),e.$on("scaleFactorUpdate",x[5]);let H={class:"flex-grow",persona:"MaleBack"};return y=new Le({props:H}),x[11](y),{c(){f=W("section"),b=W("header"),d=W("button"),U=xe("Load data"),j=de(),p=W("div"),k=W("div"),l=W("span"),ie=xe("Female Front"),R=de(),Ie(Q.$$.fragment),ue=de(),G=W("div"),ee=W("div"),oe=W("span"),le=xe("Female Back"),A=de(),Ie(_.$$.fragment),ge=de(),Y=W("div"),_e=W("div"),te=W("span"),E=xe("Male Front"),t=de(),Ie(e.$$.fragment),r=de(),s=W("div"),a=W("div"),u=W("span"),g=xe("Male Back"),N=de(),Ie(y.$$.fragment),o=de(),O=W("aside"),h=xe("aside"),X=de(),S=W("input"),this.h()},l(n){f=V(n,"SECTION",{class:!0});var c=Z(f);b=V(c,"HEADER",{class:!0});var F=Z(b);d=V(F,"BUTTON",{class:!0});var L=Z(d);U=Re(L,"Load data"),L.forEach(B),F.forEach(B),j=pe(c),p=V(c,"DIV",{class:!0});var m=Z(p);k=V(m,"DIV",{class:!0});var q=Z(k);l=V(q,"SPAN",{class:!0});var P=Z(l);ie=Re(P,"Female Front"),P.forEach(B),q.forEach(B),R=pe(m),Fe(Q.$$.fragment,m),m.forEach(B),ue=pe(c),G=V(c,"DIV",{class:!0});var w=Z(G);ee=V(w,"DIV",{class:!0});var ae=Z(ee);oe=V(ae,"SPAN",{class:!0});var re=Z(oe);le=Re(re,"Female Back"),re.forEach(B),ae.forEach(B),A=pe(w),Fe(_.$$.fragment,w),w.forEach(B),ge=pe(c),Y=V(c,"DIV",{class:!0});var ne=Z(Y);_e=V(ne,"DIV",{class:!0});var he=Z(_e);te=V(he,"SPAN",{class:!0});var se=Z(te);E=Re(se,"Male Front"),se.forEach(B),he.forEach(B),t=pe(ne),Fe(e.$$.fragment,ne),ne.forEach(B),r=pe(c),s=V(c,"DIV",{class:!0});var D=Z(s);a=V(D,"DIV",{class:!0});var M=Z(a);u=V(M,"SPAN",{class:!0});var me=Z(u);g=Re(me,"Male Back"),me.forEach(B),M.forEach(B),N=pe(D),Fe(y.$$.fragment,D),D.forEach(B),o=pe(c),O=V(c,"ASIDE",{class:!0});var C=Z(O);h=Re(C,"aside"),C.forEach(B),c.forEach(B),X=pe(n),S=V(n,"INPUT",{type:!0,class:!0,accept:!0}),this.h()},h(){z(d,"class","h-full px-2 hover:bg-neutral-700 text-neutral-100 text-xs hover:underline"),z(b,"class","z-10 col-start-1 col-end-4 flex items-center bg-neutral-600 border-b border-neutral-800 panel-shadow svelte-1y8l0oy"),z(l,"class","panel-tab active svelte-1y8l0oy"),z(k,"class","w-full h-5 panel-tabs svelte-1y8l0oy"),z(p,"class","flex flex-col border-r border-b border-neutral-300"),z(oe,"class","panel-tab svelte-1y8l0oy"),z(ee,"class","w-full h-5 panel-tabs svelte-1y8l0oy"),z(G,"class","flex flex-col border-b border-neutral-300"),z(te,"class","panel-tab svelte-1y8l0oy"),z(_e,"class","w-full h-5 panel-tabs svelte-1y8l0oy"),z(Y,"class","flex flex-col border-r border-neutral-300"),z(u,"class","panel-tab svelte-1y8l0oy"),z(a,"class","w-full h-5 panel-tabs svelte-1y8l0oy"),z(s,"class","flex flex-col"),z(O,"class","col-start-3 col-end-4 row-start-2 row-end-4 bg-neutral-600"),z(f,"class","grid workspace w-screen h-screen svelte-1y8l0oy"),z(S,"type","file"),z(S,"class","hidden"),z(S,"accept",".csv")},m(n,c){Pe(n,f,c),v(f,b),v(b,d),v(d,U),v(f,j),v(f,p),v(p,k),v(k,l),v(l,ie),v(p,R),De(Q,p,null),v(f,ue),v(f,G),v(G,ee),v(ee,oe),v(oe,le),v(G,A),De(_,G,null),v(f,ge),v(f,Y),v(Y,_e),v(_e,te),v(te,E),v(Y,t),De(e,Y,null),v(f,r),v(f,s),v(s,a),v(a,u),v(u,g),v(s,N),De(y,s,null),v(f,o),v(f,O),v(O,h),Pe(n,X,c),Pe(n,S,c),x[12](S),i=!0,I||(J=[qe(d,"click",x[7]),qe(S,"change",x[6])],I=!0)},p(n,[c]){const F={};Q.$set(F);const L={};_.$set(L);const m={};e.$set(m);const q={};y.$set(q)},i(n){i||(Ae(Q.$$.fragment,n),Ae(_.$$.fragment,n),Ae(e.$$.fragment,n),Ae(y.$$.fragment,n),i=!0)},o(n){Se(Q.$$.fragment,n),Se(_.$$.fragment,n),Se(e.$$.fragment,n),Se(y.$$.fragment,n),i=!1},d(n){n&&B(f),x[8](null),Te(Q),x[9](null),Te(_),x[10](null),Te(e),x[11](null),Te(y),n&&B(X),n&&B(S),x[12](null),I=!1,Ze(J)}}}function at(x){console.log(x)}function ot(x,f,b){let d,U,j,p,k;function l({detail:A}){}function ie(){k.files&&k.files.length>0&&R(k.files[0])}function R(A){rt.parse(A,{worker:!0,complete:at})}Ve(()=>{});const Q=()=>k.click();function ue(A){we[A?"unshift":"push"](()=>{d=A,b(0,d)})}function G(A){we[A?"unshift":"push"](()=>{U=A,b(1,U)})}function ee(A){we[A?"unshift":"push"](()=>{j=A,b(2,j)})}function oe(A){we[A?"unshift":"push"](()=>{p=A,b(3,p)})}function le(A){we[A?"unshift":"push"](()=>{k=A,b(4,k)})}return[d,U,j,p,k,l,ie,Q,ue,G,ee,oe,le]}class ht extends Ke{constructor(f){super(),He(this,f,ot,it,We,{})}}export{ht as default};
