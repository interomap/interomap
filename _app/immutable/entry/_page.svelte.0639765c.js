import{S as ze,i as Ie,s as Pe,J as He,k as lr,a as Cr,l as or,c as Er,m as rr,h as R,n as O,b as dr,K as Pr,H as Qr,L as Le,M as Vs,o as Ta,w as Or,C as za,D as Ia,E as La,F as Da,g as yr,d as Fr,N as Ee,O as Fe,G as W,v as Ra,f as Oa,q as se,r as fe,u as Bs,p as G,P as Gs,Q as hn,R as Sn,e as Je,T as Nn,U as dn,V as Me,y as ue,z as ce,A as ve,W as Ce,B as he,X as Ys,Y as We,Z as Ze}from"../chunks/index.cab44b83.js";import{a as je,p as Xs,o as Us,r as xs}from"../chunks/utils.1a88de2c.js";var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Ws(i){if(i.__esModule)return i;var t=i.default;if(typeof t=="function"){var n=function l(){if(this instanceof l){var u=[null];u.push.apply(u,arguments);var s=Function.bind.apply(t,u);return new s}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),n}var zn={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(i,t){(function(n,l){i.exports=l()})(Hs,function(){for(var n=function(r,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),r<e?e:r>a?a:r},l=n,u=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=l(r[e],0,255)):e===3&&(r[e]=l(r[e],0,1));return r},s={},c=0,g=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];c<g.length;c+=1){var M=g[c];s["[object "+M+"]"]=M.toLowerCase()}var b=function(r){return s[Object.prototype.toString.call(r)]||"object"},w=b,k=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):w(r[0])=="object"&&e?e.split("").filter(function(a){return r[0][a]!==void 0}).map(function(a){return r[0][a]}):r[0]},$=b,m=function(r){if(r.length<2)return null;var e=r.length-1;return $(r[e])=="string"?r[e].toLowerCase():null},z=Math.PI,_={clip_rgb:u,limit:n,type:b,unpack:k,last:m,PI:z,TWOPI:z*2,PITHIRD:z/3,DEG2RAD:z/180,RAD2DEG:180/z},I={format:{},autodetect:[]},A=_.last,B=_.clip_rgb,er=_.type,tr=I,hr=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var o=this;if(er(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var v=A(e),h=!1;if(!v){h=!0,tr.sorted||(tr.autodetect=tr.autodetect.sort(function(C,S){return S.p-C.p}),tr.sorted=!0);for(var f=0,d=tr.autodetect;f<d.length;f+=1){var p=d[f];if(v=p.test.apply(p,e),v)break}}if(tr.format[v]){var y=tr.format[v].apply(null,h?e:e.slice(0,-1));o._rgb=B(y)}else throw new Error("unknown format: "+e);o._rgb.length===3&&o._rgb.push(1)};hr.prototype.toString=function(){return er(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var D=hr,ir=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ir.Color,[null].concat(r)))};ir.Color=D,ir.version="2.4.2";var j=ir,br=_.unpack,mr=Math.max,gr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=br(r,"rgb"),o=a[0],v=a[1],h=a[2];o=o/255,v=v/255,h=h/255;var f=1-mr(o,mr(v,h)),d=f<1?1/(1-f):0,p=(1-o-f)*d,y=(1-v-f)*d,C=(1-h-f)*d;return[p,y,C,f]},P=gr,x=_.unpack,Y=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=x(r,"cmyk");var a=r[0],o=r[1],v=r[2],h=r[3],f=r.length>4?r[4]:1;return h===1?[0,0,0,f]:[a>=1?0:255*(1-a)*(1-h),o>=1?0:255*(1-o)*(1-h),v>=1?0:255*(1-v)*(1-h),f]},sr=Y,Tr=j,Dr=D,kr=I,Yr=_.unpack,Xr=_.type,xr=P;Dr.prototype.cmyk=function(){return xr(this._rgb)},Tr.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Dr,[null].concat(r,["cmyk"])))},kr.format.cmyk=sr,kr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Yr(r,"cmyk"),Xr(r)==="array"&&r.length===4)return"cmyk"}});var Hr=_.unpack,Ar=_.last,V=function(r){return Math.round(r*100)/100},Rr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Hr(r,"hsla"),o=Ar(r)||"lsa";return a[0]=V(a[0]||0),a[1]=V(a[1]*100)+"%",a[2]=V(a[2]*100)+"%",o==="hsla"||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,o="hsla"):a.length=3,o+"("+a.join(",")+")"},Ur=Rr,zr=_.unpack,L=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=zr(r,"rgba");var a=r[0],o=r[1],v=r[2];a/=255,o/=255,v/=255;var h=Math.min(a,o,v),f=Math.max(a,o,v),d=(f+h)/2,p,y;return f===h?(p=0,y=Number.NaN):p=d<.5?(f-h)/(f+h):(f-h)/(2-f-h),a==f?y=(o-v)/(f-h):o==f?y=2+(v-a)/(f-h):v==f&&(y=4+(a-o)/(f-h)),y*=60,y<0&&(y+=360),r.length>3&&r[3]!==void 0?[y,p,d,r[3]]:[y,p,d]},ar=L,Ir=_.unpack,Jr=_.last,qr=Ur,Wr=ar,Kr=Math.round,De=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ir(r,"rgba"),o=Jr(r)||"rgb";return o.substr(0,3)=="hsl"?qr(Wr(a),o):(a[0]=Kr(a[0]),a[1]=Kr(a[1]),a[2]=Kr(a[2]),(o==="rgba"||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,o="rgba"),o+"("+a.slice(0,o==="rgb"?3:4).join(",")+")")},Re=De,Rn=_.unpack,Ke=Math.round,On=function(){for(var r,e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Rn(e,"hsl");var o=e[0],v=e[1],h=e[2],f,d,p;if(v===0)f=d=p=h*255;else{var y=[0,0,0],C=[0,0,0],S=h<.5?h*(1+v):h+v-h*v,E=2*h-S,T=o/360;y[0]=T+1/3,y[1]=T,y[2]=T-1/3;for(var N=0;N<3;N++)y[N]<0&&(y[N]+=1),y[N]>1&&(y[N]-=1),6*y[N]<1?C[N]=E+(S-E)*6*y[N]:2*y[N]<1?C[N]=S:3*y[N]<2?C[N]=E+(S-E)*(2/3-y[N])*6:C[N]=E;r=[Ke(C[0]*255),Ke(C[1]*255),Ke(C[2]*255)],f=r[0],d=r[1],p=r[2]}return e.length>3?[f,d,p,e[3]]:[f,d,p,1]},qa=On,Va=qa,Ba=I,Ga=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ya=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Xa=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ua=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,xa=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ha=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Wa=Math.round,Za=function(r){r=r.toLowerCase().trim();var e;if(Ba.format.named)try{return Ba.format.named(r)}catch{}if(e=r.match(Ga)){for(var a=e.slice(1,4),o=0;o<3;o++)a[o]=+a[o];return a[3]=1,a}if(e=r.match(Ya)){for(var v=e.slice(1,5),h=0;h<4;h++)v[h]=+v[h];return v}if(e=r.match(Xa)){for(var f=e.slice(1,4),d=0;d<3;d++)f[d]=Wa(f[d]*2.55);return f[3]=1,f}if(e=r.match(Ua)){for(var p=e.slice(1,5),y=0;y<3;y++)p[y]=Wa(p[y]*2.55);return p[3]=+p[3],p}if(e=r.match(xa)){var C=e.slice(1,4);C[1]*=.01,C[2]*=.01;var S=Va(C);return S[3]=1,S}if(e=r.match(Ha)){var E=e.slice(1,4);E[1]*=.01,E[2]*=.01;var T=Va(E);return T[3]=+e[4],T}};Za.test=function(r){return Ga.test(r)||Ya.test(r)||Xa.test(r)||Ua.test(r)||xa.test(r)||Ha.test(r)};var qn=Za,Vn=j,ja=D,Qa=I,Bn=_.type,Gn=Re,Ja=qn;ja.prototype.css=function(r){return Gn(this._rgb,r)},Vn.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ja,[null].concat(r,["css"])))},Qa.format.css=Ja,Qa.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Bn(r)==="string"&&Ja.test(r))return"css"}});var Ka=D,Yn=j,Xn=I,Un=_.unpack;Xn.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Un(r,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},Yn.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ka,[null].concat(r,["gl"])))},Ka.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var xn=_.unpack,Hn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=xn(r,"rgb"),o=a[0],v=a[1],h=a[2],f=Math.min(o,v,h),d=Math.max(o,v,h),p=d-f,y=p*100/255,C=f/(255-p)*100,S;return p===0?S=Number.NaN:(o===d&&(S=(v-h)/p),v===d&&(S=2+(h-o)/p),h===d&&(S=4+(o-v)/p),S*=60,S<0&&(S+=360)),[S,y,C]},Wn=Hn,Zn=_.unpack,jn=Math.floor,Qn=function(){for(var r,e,a,o,v,h,f=[],d=arguments.length;d--;)f[d]=arguments[d];f=Zn(f,"hcg");var p=f[0],y=f[1],C=f[2],S,E,T;C=C*255;var N=y*255;if(y===0)S=E=T=C;else{p===360&&(p=0),p>360&&(p-=360),p<0&&(p+=360),p/=60;var X=jn(p),Z=p-X,J=C*(1-y),nr=J+N*(1-Z),$r=J+N*Z,wr=J+N;switch(X){case 0:r=[wr,$r,J],S=r[0],E=r[1],T=r[2];break;case 1:e=[nr,wr,J],S=e[0],E=e[1],T=e[2];break;case 2:a=[J,wr,$r],S=a[0],E=a[1],T=a[2];break;case 3:o=[J,nr,wr],S=o[0],E=o[1],T=o[2];break;case 4:v=[$r,J,wr],S=v[0],E=v[1],T=v[2];break;case 5:h=[wr,J,nr],S=h[0],E=h[1],T=h[2];break}}return[S,E,T,f.length>3?f[3]:1]},Jn=Qn,Kn=_.unpack,rl=_.type,el=j,rt=D,et=I,al=Wn;rt.prototype.hcg=function(){return al(this._rgb)},el.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(rt,[null].concat(r,["hcg"])))},et.format.hcg=Jn,et.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Kn(r,"hcg"),rl(r)==="array"&&r.length===3)return"hcg"}});var tl=_.unpack,nl=_.last,Oe=Math.round,ll=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=tl(r,"rgba"),o=a[0],v=a[1],h=a[2],f=a[3],d=nl(r)||"auto";f===void 0&&(f=1),d==="auto"&&(d=f<1?"rgba":"rgb"),o=Oe(o),v=Oe(v),h=Oe(h);var p=o<<16|v<<8|h,y="000000"+p.toString(16);y=y.substr(y.length-6);var C="0"+Oe(f*255).toString(16);switch(C=C.substr(C.length-2),d.toLowerCase()){case"rgba":return"#"+y+C;case"argb":return"#"+C+y;default:return"#"+y}},at=ll,ol=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,il=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,sl=function(r){if(r.match(ol)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),a=e>>16,o=e>>8&255,v=e&255;return[a,o,v,1]}if(r.match(il)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var h=parseInt(r,16),f=h>>24&255,d=h>>16&255,p=h>>8&255,y=Math.round((h&255)/255*100)/100;return[f,d,p,y]}throw new Error("unknown hex color: "+r)},tt=sl,fl=j,nt=D,ul=_.type,lt=I,cl=at;nt.prototype.hex=function(r){return cl(this._rgb,r)},fl.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(nt,[null].concat(r,["hex"])))},lt.format.hex=tt,lt.autodetect.push({p:4,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&ul(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var vl=_.unpack,ot=_.TWOPI,hl=Math.min,dl=Math.sqrt,gl=Math.acos,pl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=vl(r,"rgb"),o=a[0],v=a[1],h=a[2];o/=255,v/=255,h/=255;var f,d=hl(o,v,h),p=(o+v+h)/3,y=p>0?1-d/p:0;return y===0?f=NaN:(f=(o-v+(o-h))/2,f/=dl((o-v)*(o-v)+(o-h)*(v-h)),f=gl(f),h>v&&(f=ot-f),f/=ot),[f*360,y,p]},bl=pl,ml=_.unpack,ra=_.limit,de=_.TWOPI,ea=_.PITHIRD,ge=Math.cos,_l=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ml(r,"hsi");var a=r[0],o=r[1],v=r[2],h,f,d;return isNaN(a)&&(a=0),isNaN(o)&&(o=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(d=(1-o)/3,h=(1+o*ge(de*a)/ge(ea-de*a))/3,f=1-(d+h)):a<2/3?(a-=1/3,h=(1-o)/3,f=(1+o*ge(de*a)/ge(ea-de*a))/3,d=1-(h+f)):(a-=2/3,f=(1-o)/3,d=(1+o*ge(de*a)/ge(ea-de*a))/3,h=1-(f+d)),h=ra(v*h*3),f=ra(v*f*3),d=ra(v*d*3),[h*255,f*255,d*255,r.length>3?r[3]:1]},wl=_l,yl=_.unpack,kl=_.type,$l=j,it=D,st=I,Ml=bl;it.prototype.hsi=function(){return Ml(this._rgb)},$l.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(it,[null].concat(r,["hsi"])))},st.format.hsi=wl,st.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=yl(r,"hsi"),kl(r)==="array"&&r.length===3)return"hsi"}});var Cl=_.unpack,El=_.type,Fl=j,ft=D,ut=I,Pl=ar;ft.prototype.hsl=function(){return Pl(this._rgb)},Fl.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ft,[null].concat(r,["hsl"])))},ut.format.hsl=qa,ut.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Cl(r,"hsl"),El(r)==="array"&&r.length===3)return"hsl"}});var Al=_.unpack,Sl=Math.min,Nl=Math.max,Tl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Al(r,"rgb");var a=r[0],o=r[1],v=r[2],h=Sl(a,o,v),f=Nl(a,o,v),d=f-h,p,y,C;return C=f/255,f===0?(p=Number.NaN,y=0):(y=d/f,a===f&&(p=(o-v)/d),o===f&&(p=2+(v-a)/d),v===f&&(p=4+(a-o)/d),p*=60,p<0&&(p+=360)),[p,y,C]},zl=Tl,Il=_.unpack,Ll=Math.floor,Dl=function(){for(var r,e,a,o,v,h,f=[],d=arguments.length;d--;)f[d]=arguments[d];f=Il(f,"hsv");var p=f[0],y=f[1],C=f[2],S,E,T;if(C*=255,y===0)S=E=T=C;else{p===360&&(p=0),p>360&&(p-=360),p<0&&(p+=360),p/=60;var N=Ll(p),X=p-N,Z=C*(1-y),J=C*(1-y*X),nr=C*(1-y*(1-X));switch(N){case 0:r=[C,nr,Z],S=r[0],E=r[1],T=r[2];break;case 1:e=[J,C,Z],S=e[0],E=e[1],T=e[2];break;case 2:a=[Z,C,nr],S=a[0],E=a[1],T=a[2];break;case 3:o=[Z,J,C],S=o[0],E=o[1],T=o[2];break;case 4:v=[nr,Z,C],S=v[0],E=v[1],T=v[2];break;case 5:h=[C,Z,J],S=h[0],E=h[1],T=h[2];break}}return[S,E,T,f.length>3?f[3]:1]},Rl=Dl,Ol=_.unpack,ql=_.type,Vl=j,ct=D,vt=I,Bl=zl;ct.prototype.hsv=function(){return Bl(this._rgb)},Vl.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ct,[null].concat(r,["hsv"])))},vt.format.hsv=Rl,vt.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ol(r,"hsv"),ql(r)==="array"&&r.length===3)return"hsv"}});var qe={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},pe=qe,Gl=_.unpack,ht=Math.pow,Yl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Gl(r,"rgb"),o=a[0],v=a[1],h=a[2],f=Xl(o,v,h),d=f[0],p=f[1],y=f[2],C=116*p-16;return[C<0?0:C,500*(d-p),200*(p-y)]},aa=function(r){return(r/=255)<=.04045?r/12.92:ht((r+.055)/1.055,2.4)},ta=function(r){return r>pe.t3?ht(r,1/3):r/pe.t2+pe.t0},Xl=function(r,e,a){r=aa(r),e=aa(e),a=aa(a);var o=ta((.4124564*r+.3575761*e+.1804375*a)/pe.Xn),v=ta((.2126729*r+.7151522*e+.072175*a)/pe.Yn),h=ta((.0193339*r+.119192*e+.9503041*a)/pe.Zn);return[o,v,h]},dt=Yl,be=qe,Ul=_.unpack,xl=Math.pow,Hl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Ul(r,"lab");var a=r[0],o=r[1],v=r[2],h,f,d,p,y,C;return f=(a+16)/116,h=isNaN(o)?f:f+o/500,d=isNaN(v)?f:f-v/200,f=be.Yn*la(f),h=be.Xn*la(h),d=be.Zn*la(d),p=na(3.2404542*h-1.5371385*f-.4985314*d),y=na(-.969266*h+1.8760108*f+.041556*d),C=na(.0556434*h-.2040259*f+1.0572252*d),[p,y,C,r.length>3?r[3]:1]},na=function(r){return 255*(r<=.00304?12.92*r:1.055*xl(r,1/2.4)-.055)},la=function(r){return r>be.t1?r*r*r:be.t2*(r-be.t0)},gt=Hl,Wl=_.unpack,Zl=_.type,jl=j,pt=D,bt=I,Ql=dt;pt.prototype.lab=function(){return Ql(this._rgb)},jl.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(pt,[null].concat(r,["lab"])))},bt.format.lab=gt,bt.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Wl(r,"lab"),Zl(r)==="array"&&r.length===3)return"lab"}});var Jl=_.unpack,Kl=_.RAD2DEG,ro=Math.sqrt,eo=Math.atan2,ao=Math.round,to=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Jl(r,"lab"),o=a[0],v=a[1],h=a[2],f=ro(v*v+h*h),d=(eo(h,v)*Kl+360)%360;return ao(f*1e4)===0&&(d=Number.NaN),[o,f,d]},mt=to,no=_.unpack,lo=dt,oo=mt,io=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=no(r,"rgb"),o=a[0],v=a[1],h=a[2],f=lo(o,v,h),d=f[0],p=f[1],y=f[2];return oo(d,p,y)},so=io,fo=_.unpack,uo=_.DEG2RAD,co=Math.sin,vo=Math.cos,ho=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=fo(r,"lch"),o=a[0],v=a[1],h=a[2];return isNaN(h)&&(h=0),h=h*uo,[o,vo(h)*v,co(h)*v]},_t=ho,go=_.unpack,po=_t,bo=gt,mo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=go(r,"lch");var a=r[0],o=r[1],v=r[2],h=po(a,o,v),f=h[0],d=h[1],p=h[2],y=bo(f,d,p),C=y[0],S=y[1],E=y[2];return[C,S,E,r.length>3?r[3]:1]},wt=mo,_o=_.unpack,wo=wt,yo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=_o(r,"hcl").reverse();return wo.apply(void 0,a)},ko=yo,$o=_.unpack,Mo=_.type,yt=j,Ve=D,oa=I,kt=so;Ve.prototype.lch=function(){return kt(this._rgb)},Ve.prototype.hcl=function(){return kt(this._rgb).reverse()},yt.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ve,[null].concat(r,["lch"])))},yt.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ve,[null].concat(r,["hcl"])))},oa.format.lch=wt,oa.format.hcl=ko,["lch","hcl"].forEach(function(r){return oa.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=$o(e,r),Mo(e)==="array"&&e.length===3)return r}})});var Co={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},$t=Co,Eo=D,Mt=I,Fo=_.type,Ae=$t,Po=tt,Ao=at;Eo.prototype.name=function(){for(var r=Ao(this._rgb,"rgb"),e=0,a=Object.keys(Ae);e<a.length;e+=1){var o=a[e];if(Ae[o]===r)return o.toLowerCase()}return r},Mt.format.named=function(r){if(r=r.toLowerCase(),Ae[r])return Po(Ae[r]);throw new Error("unknown color name: "+r)},Mt.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Fo(r)==="string"&&Ae[r.toLowerCase()])return"named"}});var So=_.unpack,No=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=So(r,"rgb"),o=a[0],v=a[1],h=a[2];return(o<<16)+(v<<8)+h},To=No,zo=_.type,Io=function(r){if(zo(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,a=r>>8&255,o=r&255;return[e,a,o,1]}throw new Error("unknown num color: "+r)},Lo=Io,Do=j,Ct=D,Et=I,Ro=_.type,Oo=To;Ct.prototype.num=function(){return Oo(this._rgb)},Do.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ct,[null].concat(r,["num"])))},Et.format.num=Lo,Et.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&Ro(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var qo=j,ia=D,Ft=I,Pt=_.unpack,At=_.type,St=Math.round;ia.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(St)},ia.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,a){return a<3?r===!1?e:St(e):e})},qo.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ia,[null].concat(r,["rgb"])))},Ft.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Pt(r,"rgba");return a[3]===void 0&&(a[3]=1),a},Ft.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Pt(r,"rgba"),At(r)==="array"&&(r.length===3||r.length===4&&At(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var Be=Math.log,Vo=function(r){var e=r/100,a,o,v;return e<66?(a=255,o=e<6?0:-155.25485562709179-.44596950469579133*(o=e-2)+104.49216199393888*Be(o),v=e<20?0:-254.76935184120902+.8274096064007395*(v=e-10)+115.67994401066147*Be(v)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*Be(a),o=325.4494125711974+.07943456536662342*(o=e-50)-28.0852963507957*Be(o),v=255),[a,o,v,1]},Nt=Vo,Bo=Nt,Go=_.unpack,Yo=Math.round,Xo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var a=Go(r,"rgb"),o=a[0],v=a[2],h=1e3,f=4e4,d=.4,p;f-h>d;){p=(f+h)*.5;var y=Bo(p);y[2]/y[0]>=v/o?f=p:h=p}return Yo(p)},Uo=Xo,sa=j,Ge=D,fa=I,xo=Uo;Ge.prototype.temp=Ge.prototype.kelvin=Ge.prototype.temperature=function(){return xo(this._rgb)},sa.temp=sa.kelvin=sa.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ge,[null].concat(r,["temp"])))},fa.format.temp=fa.format.kelvin=fa.format.temperature=Nt;var Ho=_.unpack,ua=Math.cbrt,Wo=Math.pow,Zo=Math.sign,jo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ho(r,"rgb"),o=a[0],v=a[1],h=a[2],f=[ca(o/255),ca(v/255),ca(h/255)],d=f[0],p=f[1],y=f[2],C=ua(.4122214708*d+.5363325363*p+.0514459929*y),S=ua(.2119034982*d+.6806995451*p+.1073969566*y),E=ua(.0883024619*d+.2817188376*p+.6299787005*y);return[.2104542553*C+.793617785*S-.0040720468*E,1.9779984951*C-2.428592205*S+.4505937099*E,.0259040371*C+.7827717662*S-.808675766*E]},Tt=jo;function ca(r){var e=Math.abs(r);return e<.04045?r/12.92:(Zo(r)||1)*Wo((e+.055)/1.055,2.4)}var Qo=_.unpack,Ye=Math.pow,Jo=Math.sign,Ko=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Qo(r,"lab");var a=r[0],o=r[1],v=r[2],h=Ye(a+.3963377774*o+.2158037573*v,3),f=Ye(a-.1055613458*o-.0638541728*v,3),d=Ye(a-.0894841775*o-1.291485548*v,3);return[255*va(4.0767416621*h-3.3077115913*f+.2309699292*d),255*va(-1.2684380046*h+2.6097574011*f-.3413193965*d),255*va(-.0041960863*h-.7034186147*f+1.707614701*d),r.length>3?r[3]:1]},zt=Ko;function va(r){var e=Math.abs(r);return e>.0031308?(Jo(r)||1)*(1.055*Ye(e,1/2.4)-.055):r*12.92}var ri=_.unpack,ei=_.type,ai=j,It=D,Lt=I,ti=Tt;It.prototype.oklab=function(){return ti(this._rgb)},ai.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(It,[null].concat(r,["oklab"])))},Lt.format.oklab=zt,Lt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ri(r,"oklab"),ei(r)==="array"&&r.length===3)return"oklab"}});var ni=_.unpack,li=Tt,oi=mt,ii=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ni(r,"rgb"),o=a[0],v=a[1],h=a[2],f=li(o,v,h),d=f[0],p=f[1],y=f[2];return oi(d,p,y)},si=ii,fi=_.unpack,ui=_t,ci=zt,vi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=fi(r,"lch");var a=r[0],o=r[1],v=r[2],h=ui(a,o,v),f=h[0],d=h[1],p=h[2],y=ci(f,d,p),C=y[0],S=y[1],E=y[2];return[C,S,E,r.length>3?r[3]:1]},hi=vi,di=_.unpack,gi=_.type,pi=j,Dt=D,Rt=I,bi=si;Dt.prototype.oklch=function(){return bi(this._rgb)},pi.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Dt,[null].concat(r,["oklch"])))},Rt.format.oklch=hi,Rt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=di(r,"oklch"),gi(r)==="array"&&r.length===3)return"oklch"}});var Ot=D,mi=_.type;Ot.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&mi(r)==="number"?e?(this._rgb[3]=r,this):new Ot([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var _i=D;_i.prototype.clipped=function(){return this._rgb._clipped||!1};var ne=D,wi=qe;ne.prototype.darken=function(r){r===void 0&&(r=1);var e=this,a=e.lab();return a[0]-=wi.Kn*r,new ne(a,"lab").alpha(e.alpha(),!0)},ne.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},ne.prototype.darker=ne.prototype.darken,ne.prototype.brighter=ne.prototype.brighten;var yi=D;yi.prototype.get=function(r){var e=r.split("."),a=e[0],o=e[1],v=this[a]();if(o){var h=a.indexOf(o)-(a.substr(0,2)==="ok"?2:0);if(h>-1)return v[h];throw new Error("unknown channel "+o+" in mode "+a)}else return v};var me=D,ki=_.type,$i=Math.pow,Mi=1e-7,Ci=20;me.prototype.luminance=function(r){if(r!==void 0&&ki(r)==="number"){if(r===0)return new me([0,0,0,this._rgb[3]],"rgb");if(r===1)return new me([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),a="rgb",o=Ci,v=function(f,d){var p=f.interpolate(d,.5,a),y=p.luminance();return Math.abs(r-y)<Mi||!o--?p:y>r?v(f,p):v(p,d)},h=(e>r?v(new me([0,0,0]),this):v(this,new me([255,255,255]))).rgb();return new me(h.concat([this._rgb[3]]))}return Ei.apply(void 0,this._rgb.slice(0,3))};var Ei=function(r,e,a){return r=ha(r),e=ha(e),a=ha(a),.2126*r+.7152*e+.0722*a},ha=function(r){return r/=255,r<=.03928?r/12.92:$i((r+.055)/1.055,2.4)},Lr={},qt=D,Vt=_.type,Xe=Lr,Bt=function(r,e,a){a===void 0&&(a=.5);for(var o=[],v=arguments.length-3;v-- >0;)o[v]=arguments[v+3];var h=o[0]||"lrgb";if(!Xe[h]&&!o.length&&(h=Object.keys(Xe)[0]),!Xe[h])throw new Error("interpolation mode "+h+" is not defined");return Vt(r)!=="object"&&(r=new qt(r)),Vt(e)!=="object"&&(e=new qt(e)),Xe[h](r,e,a).alpha(r.alpha()+a*(e.alpha()-r.alpha()))},Gt=D,Fi=Bt;Gt.prototype.mix=Gt.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var a=[],o=arguments.length-2;o-- >0;)a[o]=arguments[o+2];return Fi.apply(void 0,[this,r,e].concat(a))};var Yt=D;Yt.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,a=e[3];return r?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new Yt([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};var da=D,Pi=qe;da.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,a=e.lch();return a[1]+=Pi.Kn*r,a[1]<0&&(a[1]=0),new da(a,"lch").alpha(e.alpha(),!0)},da.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var Xt=D,Ut=_.type;Xt.prototype.set=function(r,e,a){a===void 0&&(a=!1);var o=r.split("."),v=o[0],h=o[1],f=this[v]();if(h){var d=v.indexOf(h)-(v.substr(0,2)==="ok"?2:0);if(d>-1){if(Ut(e)=="string")switch(e.charAt(0)){case"+":f[d]+=+e;break;case"-":f[d]+=+e;break;case"*":f[d]*=+e.substr(1);break;case"/":f[d]/=+e.substr(1);break;default:f[d]=+e}else if(Ut(e)==="number")f[d]=e;else throw new Error("unsupported value for Color.set");var p=new Xt(f,v);return a?(this._rgb=p._rgb,this):p}throw new Error("unknown channel "+h+" in mode "+v)}else return f};var Ai=D,Si=function(r,e,a){var o=r._rgb,v=e._rgb;return new Ai(o[0]+a*(v[0]-o[0]),o[1]+a*(v[1]-o[1]),o[2]+a*(v[2]-o[2]),"rgb")};Lr.rgb=Si;var Ni=D,ga=Math.sqrt,_e=Math.pow,Ti=function(r,e,a){var o=r._rgb,v=o[0],h=o[1],f=o[2],d=e._rgb,p=d[0],y=d[1],C=d[2];return new Ni(ga(_e(v,2)*(1-a)+_e(p,2)*a),ga(_e(h,2)*(1-a)+_e(y,2)*a),ga(_e(f,2)*(1-a)+_e(C,2)*a),"rgb")};Lr.lrgb=Ti;var zi=D,Ii=function(r,e,a){var o=r.lab(),v=e.lab();return new zi(o[0]+a*(v[0]-o[0]),o[1]+a*(v[1]-o[1]),o[2]+a*(v[2]-o[2]),"lab")};Lr.lab=Ii;var xt=D,we=function(r,e,a,o){var v,h,f,d;o==="hsl"?(f=r.hsl(),d=e.hsl()):o==="hsv"?(f=r.hsv(),d=e.hsv()):o==="hcg"?(f=r.hcg(),d=e.hcg()):o==="hsi"?(f=r.hsi(),d=e.hsi()):o==="lch"||o==="hcl"?(o="hcl",f=r.hcl(),d=e.hcl()):o==="oklch"&&(f=r.oklch().reverse(),d=e.oklch().reverse());var p,y,C,S,E,T;(o.substr(0,1)==="h"||o==="oklch")&&(v=f,p=v[0],C=v[1],E=v[2],h=d,y=h[0],S=h[1],T=h[2]);var N,X,Z,J;return!isNaN(p)&&!isNaN(y)?(y>p&&y-p>180?J=y-(p+360):y<p&&p-y>180?J=y+360-p:J=y-p,X=p+a*J):isNaN(p)?isNaN(y)?X=Number.NaN:(X=y,(E==1||E==0)&&o!="hsv"&&(N=S)):(X=p,(T==1||T==0)&&o!="hsv"&&(N=C)),N===void 0&&(N=C+a*(S-C)),Z=E+a*(T-E),o==="oklch"?new xt([Z,N,X],o):new xt([X,N,Z],o)},Li=we,Ht=function(r,e,a){return Li(r,e,a,"lch")};Lr.lch=Ht,Lr.hcl=Ht;var Di=D,Ri=function(r,e,a){var o=r.num(),v=e.num();return new Di(o+a*(v-o),"num")};Lr.num=Ri;var Oi=we,qi=function(r,e,a){return Oi(r,e,a,"hcg")};Lr.hcg=qi;var Vi=we,Bi=function(r,e,a){return Vi(r,e,a,"hsi")};Lr.hsi=Bi;var Gi=we,Yi=function(r,e,a){return Gi(r,e,a,"hsl")};Lr.hsl=Yi;var Xi=we,Ui=function(r,e,a){return Xi(r,e,a,"hsv")};Lr.hsv=Ui;var xi=D,Hi=function(r,e,a){var o=r.oklab(),v=e.oklab();return new xi(o[0]+a*(v[0]-o[0]),o[1]+a*(v[1]-o[1]),o[2]+a*(v[2]-o[2]),"oklab")};Lr.oklab=Hi;var Wi=we,Zi=function(r,e,a){return Wi(r,e,a,"oklch")};Lr.oklch=Zi;var pa=D,ji=_.clip_rgb,ba=Math.pow,ma=Math.sqrt,_a=Math.PI,Wt=Math.cos,Zt=Math.sin,Qi=Math.atan2,Ji=function(r,e,a){e===void 0&&(e="lrgb"),a===void 0&&(a=null);var o=r.length;a||(a=Array.from(new Array(o)).map(function(){return 1}));var v=o/a.reduce(function(X,Z){return X+Z});if(a.forEach(function(X,Z){a[Z]*=v}),r=r.map(function(X){return new pa(X)}),e==="lrgb")return Ki(r,a);for(var h=r.shift(),f=h.get(e),d=[],p=0,y=0,C=0;C<f.length;C++)if(f[C]=(f[C]||0)*a[0],d.push(isNaN(f[C])?0:a[0]),e.charAt(C)==="h"&&!isNaN(f[C])){var S=f[C]/180*_a;p+=Wt(S)*a[0],y+=Zt(S)*a[0]}var E=h.alpha()*a[0];r.forEach(function(X,Z){var J=X.get(e);E+=X.alpha()*a[Z+1];for(var nr=0;nr<f.length;nr++)if(!isNaN(J[nr]))if(d[nr]+=a[Z+1],e.charAt(nr)==="h"){var $r=J[nr]/180*_a;p+=Wt($r)*a[Z+1],y+=Zt($r)*a[Z+1]}else f[nr]+=J[nr]*a[Z+1]});for(var T=0;T<f.length;T++)if(e.charAt(T)==="h"){for(var N=Qi(y/d[T],p/d[T])/_a*180;N<0;)N+=360;for(;N>=360;)N-=360;f[T]=N}else f[T]=f[T]/d[T];return E/=o,new pa(f,e).alpha(E>.99999?1:E,!0)},Ki=function(r,e){for(var a=r.length,o=[0,0,0,0],v=0;v<r.length;v++){var h=r[v],f=e[v]/a,d=h._rgb;o[0]+=ba(d[0],2)*f,o[1]+=ba(d[1],2)*f,o[2]+=ba(d[2],2)*f,o[3]+=d[3]*f}return o[0]=ma(o[0]),o[1]=ma(o[1]),o[2]=ma(o[2]),o[3]>.9999999&&(o[3]=1),new pa(ji(o))},Vr=j,ye=_.type,rs=Math.pow,wa=function(r){var e="rgb",a=Vr("#ccc"),o=0,v=[0,1],h=[],f=[0,0],d=!1,p=[],y=!1,C=0,S=1,E=!1,T={},N=!0,X=1,Z=function(F){if(F=F||["#fff","#000"],F&&ye(F)==="string"&&Vr.brewer&&Vr.brewer[F.toLowerCase()]&&(F=Vr.brewer[F.toLowerCase()]),ye(F)==="array"){F.length===1&&(F=[F[0],F[0]]),F=F.slice(0);for(var q=0;q<F.length;q++)F[q]=Vr(F[q]);h.length=0;for(var H=0;H<F.length;H++)h.push(H/(F.length-1))}return Sr(),p=F},J=function(F){if(d!=null){for(var q=d.length-1,H=0;H<q&&F>=d[H];)H++;return H-1}return 0},nr=function(F){return F},$r=function(F){return F},wr=function(F,q){var H,U;if(q==null&&(q=!1),isNaN(F)||F===null)return a;if(q)U=F;else if(d&&d.length>2){var Mr=J(F);U=Mr/(d.length-2)}else S!==C?U=(F-C)/(S-C):U=1;U=$r(U),q||(U=nr(U)),X!==1&&(U=rs(U,X)),U=f[0]+U*(1-f[0]-f[1]),U=Math.min(1,Math.max(0,U));var vr=Math.floor(U*1e4);if(N&&T[vr])H=T[vr];else{if(ye(p)==="array")for(var K=0;K<h.length;K++){var fr=h[K];if(U<=fr){H=p[K];break}if(U>=fr&&K===h.length-1){H=p[K];break}if(U>fr&&U<h[K+1]){U=(U-fr)/(h[K+1]-fr),H=Vr.interpolate(p[K],p[K+1],U,e);break}}else ye(p)==="function"&&(H=p(U));N&&(T[vr]=H)}return H},Sr=function(){return T={}};Z(r);var Q=function(F){var q=Vr(wr(F));return y&&q[y]?q[y]():q};return Q.classes=function(F){if(F!=null){if(ye(F)==="array")d=F,v=[F[0],F[F.length-1]];else{var q=Vr.analyze(v);F===0?d=[q.min,q.max]:d=Vr.limits(q,"e",F)}return Q}return d},Q.domain=function(F){if(!arguments.length)return v;C=F[0],S=F[F.length-1],h=[];var q=p.length;if(F.length===q&&C!==S)for(var H=0,U=Array.from(F);H<U.length;H+=1){var Mr=U[H];h.push((Mr-C)/(S-C))}else{for(var vr=0;vr<q;vr++)h.push(vr/(q-1));if(F.length>2){var K=F.map(function(ur,cr){return cr/(F.length-1)}),fr=F.map(function(ur){return(ur-C)/(S-C)});fr.every(function(ur,cr){return K[cr]===ur})||($r=function(ur){if(ur<=0||ur>=1)return ur;for(var cr=0;ur>=fr[cr+1];)cr++;var Gr=(ur-fr[cr])/(fr[cr+1]-fr[cr]),ae=K[cr]+Gr*(K[cr+1]-K[cr]);return ae})}}return v=[C,S],Q},Q.mode=function(F){return arguments.length?(e=F,Sr(),Q):e},Q.range=function(F,q){return Z(F),Q},Q.out=function(F){return y=F,Q},Q.spread=function(F){return arguments.length?(o=F,Q):o},Q.correctLightness=function(F){return F==null&&(F=!0),E=F,Sr(),E?nr=function(q){for(var H=wr(0,!0).lab()[0],U=wr(1,!0).lab()[0],Mr=H>U,vr=wr(q,!0).lab()[0],K=H+(U-H)*q,fr=vr-K,ur=0,cr=1,Gr=20;Math.abs(fr)>.01&&Gr-- >0;)(function(){return Mr&&(fr*=-1),fr<0?(ur=q,q+=(cr-q)*.5):(cr=q,q+=(ur-q)*.5),vr=wr(q,!0).lab()[0],fr=vr-K})();return q}:nr=function(q){return q},Q},Q.padding=function(F){return F!=null?(ye(F)==="number"&&(F=[F,F]),f=F,Q):f},Q.colors=function(F,q){arguments.length<2&&(q="hex");var H=[];if(arguments.length===0)H=p.slice(0);else if(F===1)H=[Q(.5)];else if(F>1){var U=v[0],Mr=v[1]-U;H=es(0,F,!1).map(function(cr){return Q(U+cr/(F-1)*Mr)})}else{r=[];var vr=[];if(d&&d.length>2)for(var K=1,fr=d.length,ur=1<=fr;ur?K<fr:K>fr;ur?K++:K--)vr.push((d[K-1]+d[K])*.5);else vr=v;H=vr.map(function(cr){return Q(cr)})}return Vr[q]&&(H=H.map(function(cr){return cr[q]()})),H},Q.cache=function(F){return F!=null?(N=F,Q):N},Q.gamma=function(F){return F!=null?(X=F,Q):X},Q.nodata=function(F){return F!=null?(a=Vr(F),Q):a},Q};function es(r,e,a){for(var o=[],v=r<e,h=a?v?e+1:e-1:e,f=r;v?f<h:f>h;v?f++:f--)o.push(f);return o}var Se=D,as=wa,ts=function(r){for(var e=[1,1],a=1;a<r;a++){for(var o=[1],v=1;v<=e.length;v++)o[v]=(e[v]||0)+e[v-1];e=o}return e},ns=function(r){var e,a,o,v,h,f,d;if(r=r.map(function(E){return new Se(E)}),r.length===2)e=r.map(function(E){return E.lab()}),h=e[0],f=e[1],v=function(E){var T=[0,1,2].map(function(N){return h[N]+E*(f[N]-h[N])});return new Se(T,"lab")};else if(r.length===3)a=r.map(function(E){return E.lab()}),h=a[0],f=a[1],d=a[2],v=function(E){var T=[0,1,2].map(function(N){return(1-E)*(1-E)*h[N]+2*(1-E)*E*f[N]+E*E*d[N]});return new Se(T,"lab")};else if(r.length===4){var p;o=r.map(function(E){return E.lab()}),h=o[0],f=o[1],d=o[2],p=o[3],v=function(E){var T=[0,1,2].map(function(N){return(1-E)*(1-E)*(1-E)*h[N]+3*(1-E)*(1-E)*E*f[N]+3*(1-E)*E*E*d[N]+E*E*E*p[N]});return new Se(T,"lab")}}else if(r.length>=5){var y,C,S;y=r.map(function(E){return E.lab()}),S=r.length-1,C=ts(S),v=function(E){var T=1-E,N=[0,1,2].map(function(X){return y.reduce(function(Z,J,nr){return Z+C[nr]*Math.pow(T,S-nr)*Math.pow(E,nr)*J[X]},0)});return new Se(N,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return v},ls=function(r){var e=ns(r);return e.scale=function(){return as(e)},e},ya=j,Br=function(r,e,a){if(!Br[a])throw new Error("unknown blend mode "+a);return Br[a](r,e)},re=function(r){return function(e,a){var o=ya(a).rgb(),v=ya(e).rgb();return ya.rgb(r(o,v))}},ee=function(r){return function(e,a){var o=[];return o[0]=r(e[0],a[0]),o[1]=r(e[1],a[1]),o[2]=r(e[2],a[2]),o}},os=function(r){return r},is=function(r,e){return r*e/255},ss=function(r,e){return r>e?e:r},fs=function(r,e){return r>e?r:e},us=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},cs=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},vs=function(r,e){return 255*(1-(1-e/255)/(r/255))},hs=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};Br.normal=re(ee(os)),Br.multiply=re(ee(is)),Br.screen=re(ee(us)),Br.overlay=re(ee(cs)),Br.darken=re(ee(ss)),Br.lighten=re(ee(fs)),Br.dodge=re(ee(hs)),Br.burn=re(ee(vs));for(var ds=Br,ka=_.type,gs=_.clip_rgb,ps=_.TWOPI,bs=Math.pow,ms=Math.sin,_s=Math.cos,jt=j,ws=function(r,e,a,o,v){r===void 0&&(r=300),e===void 0&&(e=-1.5),a===void 0&&(a=1),o===void 0&&(o=1),v===void 0&&(v=[0,1]);var h=0,f;ka(v)==="array"?f=v[1]-v[0]:(f=0,v=[v,v]);var d=function(p){var y=ps*((r+120)/360+e*p),C=bs(v[0]+f*p,o),S=h!==0?a[0]+p*h:a,E=S*C*(1-C)/2,T=_s(y),N=ms(y),X=C+E*(-.14861*T+1.78277*N),Z=C+E*(-.29227*T-.90649*N),J=C+E*(1.97294*T);return jt(gs([X*255,Z*255,J*255,1]))};return d.start=function(p){return p==null?r:(r=p,d)},d.rotations=function(p){return p==null?e:(e=p,d)},d.gamma=function(p){return p==null?o:(o=p,d)},d.hue=function(p){return p==null?a:(a=p,ka(a)==="array"?(h=a[1]-a[0],h===0&&(a=a[1])):h=0,d)},d.lightness=function(p){return p==null?v:(ka(p)==="array"?(v=p,f=p[1]-p[0]):(v=[p,p],f=0),d)},d.scale=function(){return jt.scale(d)},d.hue(a),d},ys=D,ks="0123456789abcdef",$s=Math.floor,Ms=Math.random,Cs=function(){for(var r="#",e=0;e<6;e++)r+=ks.charAt($s(Ms()*16));return new ys(r,"hex")},$a=b,Qt=Math.log,Es=Math.pow,Fs=Math.floor,Ps=Math.abs,Jt=function(r,e){e===void 0&&(e=null);var a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return $a(r)==="object"&&(r=Object.values(r)),r.forEach(function(o){e&&$a(o)==="object"&&(o=o[e]),o!=null&&!isNaN(o)&&(a.values.push(o),a.sum+=o,o<a.min&&(a.min=o),o>a.max&&(a.max=o),a.count+=1)}),a.domain=[a.min,a.max],a.limits=function(o,v){return Kt(a,o,v)},a},Kt=function(r,e,a){e===void 0&&(e="equal"),a===void 0&&(a=7),$a(r)=="array"&&(r=Jt(r));var o=r.min,v=r.max,h=r.values.sort(function(Ca,Ea){return Ca-Ea});if(a===1)return[o,v];var f=[];if(e.substr(0,1)==="c"&&(f.push(o),f.push(v)),e.substr(0,1)==="e"){f.push(o);for(var d=1;d<a;d++)f.push(o+d/a*(v-o));f.push(v)}else if(e.substr(0,1)==="l"){if(o<=0)throw new Error("Logarithmic scales are only possible for values > 0");var p=Math.LOG10E*Qt(o),y=Math.LOG10E*Qt(v);f.push(o);for(var C=1;C<a;C++)f.push(Es(10,p+C/a*(y-p)));f.push(v)}else if(e.substr(0,1)==="q"){f.push(o);for(var S=1;S<a;S++){var E=(h.length-1)*S/a,T=Fs(E);if(T===E)f.push(h[T]);else{var N=E-T;f.push(h[T]*(1-N)+h[T+1]*N)}}f.push(v)}else if(e.substr(0,1)==="k"){var X,Z=h.length,J=new Array(Z),nr=new Array(a),$r=!0,wr=0,Sr=null;Sr=[],Sr.push(o);for(var Q=1;Q<a;Q++)Sr.push(o+Q/a*(v-o));for(Sr.push(v);$r;){for(var F=0;F<a;F++)nr[F]=0;for(var q=0;q<Z;q++)for(var H=h[q],U=Number.MAX_VALUE,Mr=void 0,vr=0;vr<a;vr++){var K=Ps(Sr[vr]-H);K<U&&(U=K,Mr=vr),nr[Mr]++,J[q]=Mr}for(var fr=new Array(a),ur=0;ur<a;ur++)fr[ur]=null;for(var cr=0;cr<Z;cr++)X=J[cr],fr[X]===null?fr[X]=h[cr]:fr[X]+=h[cr];for(var Gr=0;Gr<a;Gr++)fr[Gr]*=1/nr[Gr];$r=!1;for(var ae=0;ae<a;ae++)if(fr[ae]!==Sr[ae]){$r=!0;break}Sr=fr,wr++,wr>200&&($r=!1)}for(var te={},ke=0;ke<a;ke++)te[ke]=[];for(var $e=0;$e<Z;$e++)X=J[$e],te[X].push(h[$e]);for(var jr=[],le=0;le<a;le++)jr.push(te[le][0]),jr.push(te[le][te[le].length-1]);jr=jr.sort(function(Ca,Ea){return Ca-Ea}),f.push(jr[0]);for(var Ne=1;Ne<jr.length;Ne+=2){var oe=jr[Ne];!isNaN(oe)&&f.indexOf(oe)===-1&&f.push(oe)}}return f},rn={analyze:Jt,limits:Kt},en=D,As=function(r,e){r=new en(r),e=new en(e);var a=r.luminance(),o=e.luminance();return a>o?(a+.05)/(o+.05):(o+.05)/(a+.05)},an=D,Zr=Math.sqrt,pr=Math.pow,Ss=Math.min,Ns=Math.max,tn=Math.atan2,nn=Math.abs,Ue=Math.cos,ln=Math.sin,Ts=Math.exp,on=Math.PI,zs=function(r,e,a,o,v){a===void 0&&(a=1),o===void 0&&(o=1),v===void 0&&(v=1);var h=function(oe){return 360*oe/(2*on)},f=function(oe){return 2*on*oe/360};r=new an(r),e=new an(e);var d=Array.from(r.lab()),p=d[0],y=d[1],C=d[2],S=Array.from(e.lab()),E=S[0],T=S[1],N=S[2],X=(p+E)/2,Z=Zr(pr(y,2)+pr(C,2)),J=Zr(pr(T,2)+pr(N,2)),nr=(Z+J)/2,$r=.5*(1-Zr(pr(nr,7)/(pr(nr,7)+pr(25,7)))),wr=y*(1+$r),Sr=T*(1+$r),Q=Zr(pr(wr,2)+pr(C,2)),F=Zr(pr(Sr,2)+pr(N,2)),q=(Q+F)/2,H=h(tn(C,wr)),U=h(tn(N,Sr)),Mr=H>=0?H:H+360,vr=U>=0?U:U+360,K=nn(Mr-vr)>180?(Mr+vr+360)/2:(Mr+vr)/2,fr=1-.17*Ue(f(K-30))+.24*Ue(f(2*K))+.32*Ue(f(3*K+6))-.2*Ue(f(4*K-63)),ur=vr-Mr;ur=nn(ur)<=180?ur:vr<=Mr?ur+360:ur-360,ur=2*Zr(Q*F)*ln(f(ur)/2);var cr=E-p,Gr=F-Q,ae=1+.015*pr(X-50,2)/Zr(20+pr(X-50,2)),te=1+.045*q,ke=1+.015*q*fr,$e=30*Ts(-pr((K-275)/25,2)),jr=2*Zr(pr(q,7)/(pr(q,7)+pr(25,7))),le=-jr*ln(2*f($e)),Ne=Zr(pr(cr/(a*ae),2)+pr(Gr/(o*te),2)+pr(ur/(v*ke),2)+le*(Gr/(o*te))*(ur/(v*ke)));return Ns(0,Ss(100,Ne))},sn=D,Is=function(r,e,a){a===void 0&&(a="lab"),r=new sn(r),e=new sn(e);var o=r.get(a),v=e.get(a),h=0;for(var f in o){var d=(o[f]||0)-(v[f]||0);h+=d*d}return Math.sqrt(h)},Ls=D,Ds=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(Ls,[null].concat(r))),!0}catch{return!1}},fn=j,un=wa,Rs={cool:function(){return un([fn.hsl(180,1,.9),fn.hsl(250,.7,.4)])},hot:function(){return un(["#000","#f00","#ff0","#fff"]).mode("rgb")}},xe={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ma=0,cn=Object.keys(xe);Ma<cn.length;Ma+=1){var vn=cn[Ma];xe[vn.toLowerCase()]=xe[vn]}var Os=xe,_r=j;_r.average=Ji,_r.bezier=ls,_r.blend=ds,_r.cubehelix=ws,_r.mix=_r.interpolate=Bt,_r.random=Cs,_r.scale=wa,_r.analyze=rn.analyze,_r.contrast=As,_r.deltaE=zs,_r.distance=Is,_r.limits=rn.limits,_r.valid=Ds,_r.scales=Rs,_r.colors=$t,_r.brewer=Os;var qs=_r;return qs})})(zn);var Zs=zn.exports;const Nr=Tn(Zs),In={SMALL:8,MEDIUM:18,BIG:32};var js=Js,Fa={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Qs=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function Js(i){var t=[];return i.replace(Qs,function(n,l,u){var s=l.toLowerCase();for(u=rf(u),s=="m"&&u.length>2&&(t.push([l].concat(u.splice(0,2))),s="l",l=l=="m"?"l":"L");;){if(u.length==Fa[s])return u.unshift(l),t.push(u);if(u.length<Fa[s])throw new Error("malformed path data");t.push([l].concat(u.splice(0,Fa[s])))}}),t}var Ks=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function rf(i){var t=i.match(Ks);return t?t.map(Number):[]}var ef=af;function af(i){var t=0,n=0,l=0,u=0;return i.map(function(s){s=s.slice();var c=s[0],g=c.toUpperCase();if(c!=g)switch(s[0]=g,c){case"a":s[6]+=l,s[7]+=u;break;case"v":s[1]+=u;break;case"h":s[1]+=l;break;default:for(var M=1;M<s.length;)s[M++]+=l,s[M++]+=u}switch(g){case"Z":l=t,u=n;break;case"H":l=s[1];break;case"V":u=s[1];break;case"M":l=t=s[1],u=n=s[2];break;default:l=s[s.length-2],u=s[s.length-1]}return s})}var tf=function(){function i(t,n){var l=[],u=!0,s=!1,c=void 0;try{for(var g=t[Symbol.iterator](),M;!(u=(M=g.next()).done)&&(l.push(M.value),!(n&&l.length===n));u=!0);}catch(b){s=!0,c=b}finally{try{!u&&g.return&&g.return()}finally{if(s)throw c}}return l}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return i(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Te=Math.PI*2,Pa=function(t,n,l,u,s,c,g){var M=t.x,b=t.y;M*=n,b*=l;var w=u*M-s*b,k=s*M+u*b;return{x:w+c,y:k+g}},nf=function(t,n){var l=n===1.5707963267948966?.551915024494:n===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(n/4),u=Math.cos(t),s=Math.sin(t),c=Math.cos(t+n),g=Math.sin(t+n);return[{x:u-s*l,y:s+u*l},{x:c+g*l,y:g-c*l},{x:c,y:g}]},gn=function(t,n,l,u){var s=t*u-n*l<0?-1:1,c=t*l+n*u;return c>1&&(c=1),c<-1&&(c=-1),s*Math.acos(c)},lf=function(t,n,l,u,s,c,g,M,b,w,k,$){var m=Math.pow(s,2),z=Math.pow(c,2),_=Math.pow(k,2),I=Math.pow($,2),A=m*z-m*I-z*_;A<0&&(A=0),A/=m*I+z*_,A=Math.sqrt(A)*(g===M?-1:1);var B=A*s/c*$,er=A*-c/s*k,tr=w*B-b*er+(t+l)/2,hr=b*B+w*er+(n+u)/2,D=(k-B)/s,ir=($-er)/c,j=(-k-B)/s,br=(-$-er)/c,mr=gn(1,0,D,ir),gr=gn(D,ir,j,br);return M===0&&gr>0&&(gr-=Te),M===1&&gr<0&&(gr+=Te),[tr,hr,mr,gr]},of=function(t){var n=t.px,l=t.py,u=t.cx,s=t.cy,c=t.rx,g=t.ry,M=t.xAxisRotation,b=M===void 0?0:M,w=t.largeArcFlag,k=w===void 0?0:w,$=t.sweepFlag,m=$===void 0?0:$,z=[];if(c===0||g===0)return[];var _=Math.sin(b*Te/360),I=Math.cos(b*Te/360),A=I*(n-u)/2+_*(l-s)/2,B=-_*(n-u)/2+I*(l-s)/2;if(A===0&&B===0)return[];c=Math.abs(c),g=Math.abs(g);var er=Math.pow(A,2)/Math.pow(c,2)+Math.pow(B,2)/Math.pow(g,2);er>1&&(c*=Math.sqrt(er),g*=Math.sqrt(er));var tr=lf(n,l,u,s,c,g,k,m,_,I,A,B),hr=tf(tr,4),D=hr[0],ir=hr[1],j=hr[2],br=hr[3],mr=Math.abs(br)/(Te/4);Math.abs(1-mr)<1e-7&&(mr=1);var gr=Math.max(Math.ceil(mr),1);br/=gr;for(var P=0;P<gr;P++)z.push(nf(j,br)),j+=br;return z.map(function(x){var Y=Pa(x[0],c,g,I,_,D,ir),sr=Y.x,Tr=Y.y,Dr=Pa(x[1],c,g,I,_,D,ir),kr=Dr.x,Yr=Dr.y,Xr=Pa(x[2],c,g,I,_,D,ir),xr=Xr.x,Hr=Xr.y;return{x1:sr,y1:Tr,x2:kr,y2:Yr,x:xr,y:Hr}})};const sf=Object.freeze(Object.defineProperty({__proto__:null,default:of},Symbol.toStringTag,{value:"Module"})),ff=Ws(sf);var uf=vf,cf=ff;function vf(i){for(var t,n=[],l=0,u=0,s=0,c=0,g=null,M=null,b=0,w=0,k=0,$=i.length;k<$;k++){var m=i[k],z=m[0];switch(z){case"M":s=m[1],c=m[2];break;case"A":var _=cf({px:b,py:w,cx:m[6],cy:m[7],rx:m[1],ry:m[2],xAxisRotation:m[3],largeArcFlag:m[4],sweepFlag:m[5]});if(!_.length)continue;for(var I=0,A;I<_.length;I++)A=_[I],m=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],I<_.length-1&&n.push(m);break;case"S":var B=b,er=w;(t=="C"||t=="S")&&(B+=B-l,er+=er-u),m=["C",B,er,m[1],m[2],m[3],m[4]];break;case"T":t=="Q"||t=="T"?(g=b*2-g,M=w*2-M):(g=b,M=w),m=pn(b,w,g,M,m[1],m[2]);break;case"Q":g=m[1],M=m[2],m=pn(b,w,m[1],m[2],m[3],m[4]);break;case"L":m=Qe(b,w,m[1],m[2]);break;case"H":m=Qe(b,w,m[1],w);break;case"V":m=Qe(b,w,b,m[1]);break;case"Z":m=Qe(b,w,s,c);break}t=z,b=m[m.length-2],w=m[m.length-1],m.length>4?(l=m[m.length-4],u=m[m.length-3]):(l=b,u=w),n.push(m)}return n}function Qe(i,t,n,l){return["C",i,t,n,l,n,l]}function pn(i,t,n,l,u,s){return["C",i/3+2/3*n,t/3+2/3*l,u/3+2/3*n,s/3+2/3*l,u,s]}var hf=function(t){return typeof t!="string"?!1:(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))},df=js,gf=ef,pf=uf,bf=hf,mf=_f;function _f(i){if(Array.isArray(i)&&i.length===1&&typeof i[0]=="string"&&(i=i[0]),typeof i=="string"){if(!bf(i))throw Error("String is not an SVG path.");i=df(i)}if(!Array.isArray(i))throw Error("Argument should be a string or an array of path segments.");if(i=gf(i),i=pf(i),!i.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],n=0,l=i.length;n<l;n++)for(var u=i[n].slice(1),s=0;s<u.length;s+=2)u[s+0]<t[0]&&(t[0]=u[s+0]),u[s+1]<t[1]&&(t[1]=u[s+1]),u[s+0]>t[2]&&(t[2]=u[s+0]),u[s+1]>t[3]&&(t[3]=u[s+1]);return t}const wf=Tn(mf),Aa=Math.PI,Sa=2*Aa,ie=1e-6,yf=Sa-ie;function Ln(i){this._+=i[0];for(let t=1,n=i.length;t<n;++t)this._+=arguments[t]+i[t]}function kf(i){let t=Math.floor(i);if(!(t>=0))throw new Error(`invalid digits: ${i}`);if(t>15)return Ln;const n=10**t;return function(l){this._+=l[0];for(let u=1,s=l.length;u<s;++u)this._+=Math.round(arguments[u]*n)/n+l[u]}}class Dn{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ln:kf(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,l,u){this._append`Q${+t},${+n},${this._x1=+l},${this._y1=+u}`}bezierCurveTo(t,n,l,u,s,c){this._append`C${+t},${+n},${+l},${+u},${this._x1=+s},${this._y1=+c}`}arcTo(t,n,l,u,s){if(t=+t,n=+n,l=+l,u=+u,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,g=this._y1,M=l-t,b=u-n,w=c-t,k=g-n,$=w*w+k*k;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if($>ie)if(!(Math.abs(k*M-b*w)>ie)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let m=l-c,z=u-g,_=M*M+b*b,I=m*m+z*z,A=Math.sqrt(_),B=Math.sqrt($),er=s*Math.tan((Aa-Math.acos((_+$-I)/(2*A*B)))/2),tr=er/B,hr=er/A;Math.abs(tr-1)>ie&&this._append`L${t+tr*w},${n+tr*k}`,this._append`A${s},${s},0,0,${+(k*m>w*z)},${this._x1=t+hr*M},${this._y1=n+hr*b}`}}arc(t,n,l,u,s,c){if(t=+t,n=+n,l=+l,c=!!c,l<0)throw new Error(`negative radius: ${l}`);let g=l*Math.cos(u),M=l*Math.sin(u),b=t+g,w=n+M,k=1^c,$=c?u-s:s-u;this._x1===null?this._append`M${b},${w}`:(Math.abs(this._x1-b)>ie||Math.abs(this._y1-w)>ie)&&this._append`L${b},${w}`,l&&($<0&&($=$%Sa+Sa),$>yf?this._append`A${l},${l},0,1,${k},${t-g},${n-M}A${l},${l},0,1,${k},${this._x1=b},${this._y1=w}`:$>ie&&this._append`A${l},${l},0,${+($>=Aa)},${k},${this._x1=t+l*Math.cos(s)},${this._y1=n+l*Math.sin(s)}`)}rect(t,n,l,u){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${l=+l}v${+u}h${-l}Z`}toString(){return this._}}function Na(){return new Dn}Na.prototype=Dn.prototype;function $f(i){let t,n,l,u,s;return{c(){t=lr("img"),n=Cr(),l=lr("canvas"),this.h()},l(c){t=or(c,"IMG",{class:!0}),n=Er(c),l=or(c,"CANVAS",{class:!0}),rr(l).forEach(R),this.h()},h(){O(t,"class","absolute left-1/2 -translate-x-1/2 h-full object-contain"),O(l,"class","absolute left-1/2 -translate-x-1/2 h-full")},m(c,g){dr(c,t,g),i[9](t),dr(c,n,g),dr(c,l,g),i[10](l),u||(s=[Pr(l,"mousedown",i[2]),Pr(l,"mousemove",i[3]),Pr(l,"mouseup",i[4]),Pr(l,"mouseleave",i[5])],u=!0)},p:Qr,i:Qr,o:Qr,d(c){c&&R(t),i[9](null),c&&R(n),c&&R(l),i[10](null),u=!1,Le(s)}}}function Mf(i,t,n){let l,{canvas:u=void 0}=t,{persona:s}=t,{brushSize:c}=t,{brushColor:g}=t;const M=Vs();let b=Xs[s],w=Us[s],k,$,m=!1,z,_,I,A,B=Na();Ta(()=>{if(b==null){je(`Error: Persona SVG path of ${s} was not found.`);return}n(1,k.onload=er,k),n(1,k.src=b,k)});function er(){if(w==null){je(`Error: Outline SVG path of ${s} was not found.`);return}if(u==null){je(`Error: Canvas of ${s} was not loaded.`);return}if(A=u.getContext("2d"),A===null){je(`Error: Canvas context of ${s} was not loaded.`);return}A.globalCompositeOperation="xor",n(0,u.width=k.width,u),n(0,u.height=k.height,u);const[P,x,Y,sr]=wf(w),Tr=Y,Dr=sr,kr=k.width/Tr,Yr=k.height/Dr,Xr=-P/2,xr=-x/2,Hr=new Path2D(w);let Ar=new DOMMatrix;Ar=Ar.translate(Xr,xr),Ar=Ar.scale(kr,Yr),$=new Path2D,$.addPath(Hr,Ar),A.clip($)}function tr(P,x){return console.log(A,P,x),A==null?!1:A.isPointInPath($,P,x)}function hr(P,x){if(A===null||B==null||m===!1)return;if(z===!1){m=!1,A.closePath(),B.closePath();return}const Y=P+l,sr=x+l;(_!==Y||I!==sr)&&(A.lineTo(Y,sr),B.lineTo(Y,sr),A.stroke())}function D(P){if(u==null||A===null||B==null||z===!1)return;M("drawingStart",{canvas:u});const x=P;let Y=x.offsetX,sr=x.offsetY;Y===void 0||sr===void 0||(m=!0,A.lineCap="round",A.lineJoin="round",A.lineWidth=c,A.strokeStyle=g,A.fillStyle=g,_=Y+l,I=sr+l,A.beginPath(),A.moveTo(_,I),B.moveTo(_,I),hr(Y,sr))}function ir(P){const x=P;let Y=x.offsetX,sr=x.offsetY;Y===void 0||sr===void 0||(z=tr(Y,sr),M("canDrawUpdate",z),m&&hr(Y,sr))}function j(P){if(A===null)return;const x=P.offsetX,Y=P.offsetY;if(m&&x!==void 0&&Y!==void 0){const sr=x+l,Tr=Y+l;_===sr&&I===Tr&&(A.arc(sr,Tr,l,0,2*Math.PI),A.fill())}A.closePath(),m=!1,_=void 0,I=void 0,M("drawingEnd",{persona:s,svg:B.toString()}),B=Na()}function br(){z=!1,M("canDrawUpdate",z)}function mr(P){Or[P?"unshift":"push"](()=>{k=P,n(1,k)})}function gr(P){Or[P?"unshift":"push"](()=>{u=P,n(0,u)})}return i.$$set=P=>{"canvas"in P&&n(0,u=P.canvas),"persona"in P&&n(6,s=P.persona),"brushSize"in P&&n(7,c=P.brushSize),"brushColor"in P&&n(8,g=P.brushColor)},i.$$.update=()=>{i.$$.dirty&128&&(l=c/2)},[u,k,D,ir,j,br,s,c,g,mr,gr]}class bn extends ze{constructor(t){super(),Ie(this,t,Mf,$f,Pe,{canvas:0,persona:6,brushSize:7,brushColor:8})}get canvas(){return this.$$.ctx[0]}set canvas(t){this.$$set({canvas:t}),He()}get persona(){return this.$$.ctx[6]}set persona(t){this.$$set({persona:t}),He()}get brushSize(){return this.$$.ctx[7]}set brushSize(t){this.$$set({brushSize:t}),He()}get brushColor(){return this.$$.ctx[8]}set brushColor(t){this.$$set({brushColor:t}),He()}}function Cf(i){let t,n,l;const u=i[2].default,s=za(u,i,i[1],null);return{c(){t=lr("ul"),s&&s.c(),this.h()},l(c){t=or(c,"UL",{class:!0});var g=rr(t);s&&s.l(g),g.forEach(R),this.h()},h(){O(t,"class",n=(i[0].class??"")+" border rounded-md shadow-md")},m(c,g){dr(c,t,g),s&&s.m(t,null),l=!0},p(c,[g]){s&&s.p&&(!l||g&2)&&Ia(s,u,c,c[1],l?Da(u,c[1],g,null):La(c[1]),null),(!l||g&1&&n!==(n=(c[0].class??"")+" border rounded-md shadow-md"))&&O(t,"class",n)},i(c){l||(yr(s,c),l=!0)},o(c){Fr(s,c),l=!1},d(c){c&&R(t),s&&s.d(c)}}}function Ef(i,t,n){let{$$slots:l={},$$scope:u}=t;return i.$$set=s=>{n(0,t=Ee(Ee({},t),Fe(s))),"$$scope"in s&&n(1,u=s.$$scope)},t=Fe(t),[t,u,l]}class Ff extends ze{constructor(t){super(),Ie(this,t,Ef,Cf,Pe,{})}}function Pf(i){const t=i-1;return t*t*t+1}function mn(i,{delay:t=0,duration:n=400,easing:l=Pf,axis:u="y"}={}){const s=getComputedStyle(i),c=+s.opacity,g=u==="y"?"height":"width",M=parseFloat(s[g]),b=u==="y"?["top","bottom"]:["left","right"],w=b.map(A=>`${A[0].toUpperCase()}${A.slice(1)}`),k=parseFloat(s[`padding${w[0]}`]),$=parseFloat(s[`padding${w[1]}`]),m=parseFloat(s[`margin${w[0]}`]),z=parseFloat(s[`margin${w[1]}`]),_=parseFloat(s[`border${w[0]}Width`]),I=parseFloat(s[`border${w[1]}Width`]);return{delay:t,duration:n,easing:l,css:A=>`overflow: hidden;opacity: ${Math.min(A*20,1)*c};${g}: ${A*M}px;padding-${b[0]}: ${A*k}px;padding-${b[1]}: ${A*$}px;margin-${b[0]}: ${A*m}px;margin-${b[1]}: ${A*z}px;border-${b[0]}-width: ${A*_}px;border-${b[1]}-width: ${A*I}px;`}}function _n(i,t,n){const l=i.slice();return l[10]=t[n],l}const Af=i=>({value:i&4}),wn=i=>({value:i[10]});function yn(i){let t,n;return{c(){t=lr("span"),n=se(i[1]),this.h()},l(l){t=or(l,"SPAN",{class:!0});var u=rr(t);n=fe(u,i[1]),u.forEach(R),this.h()},h(){O(t,"class","absolute top-1/2 right-full -translate-y-1/2 min-w-max mr-4 py-1 px-2 bg-black rounded shadow-md text-white text-sm transition-all duration-300 opacity-0 group-hover:opacity-100")},m(l,u){dr(l,t,u),W(t,n)},p(l,u){u&2&&Bs(n,l[1])},d(l){l&&R(t)}}}function kn(i){let t,n,l,u,s,c=i[2],g=[];for(let b=0;b<c.length;b+=1)g[b]=$n(_n(i,c,b));const M=b=>Fr(g[b],1,1,()=>{g[b]=null});return{c(){t=lr("div");for(let b=0;b<g.length;b+=1)g[b].c();this.h()},l(b){t=or(b,"DIV",{class:!0,style:!0});var w=rr(t);for(let k=0;k<g.length;k+=1)g[k].l(w);w.forEach(R),this.h()},h(){O(t,"class","z-10 absolute left-full grid items-stretch h-full ml-2 p-1 bg-white border rounded-md shadow-md"),G(t,"width",i[2].length*4+"rem"),G(t,"grid-template-columns","repeat("+i[2].length+", minmax(0, 1fr))")},m(b,w){dr(b,t,w);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(t,null);l=!0,u||(s=Pr(t,"click",i[7]),u=!0)},p(b,w){if(w&36){c=b[2];let k;for(k=0;k<c.length;k+=1){const $=_n(b,c,k);g[k]?(g[k].p($,w),yr(g[k],1)):(g[k]=$n($),g[k].c(),yr(g[k],1),g[k].m(t,null))}for(Ra(),k=c.length;k<g.length;k+=1)M(k);Oa()}(!l||w&4)&&G(t,"width",b[2].length*4+"rem"),(!l||w&4)&&G(t,"grid-template-columns","repeat("+b[2].length+", minmax(0, 1fr))")},i(b){if(!l){for(let w=0;w<c.length;w+=1)yr(g[w]);Gs(()=>{l&&(n||(n=hn(t,mn,{axis:"x"},!0)),n.run(1))}),l=!0}},o(b){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)Fr(g[w]);n||(n=hn(t,mn,{axis:"x"},!1)),n.run(0),l=!1},d(b){b&&R(t),Sn(g,b),b&&n&&n.end(),u=!1,s()}}}function $n(i){let t;const n=i[6].option,l=za(n,i,i[5],wn);return{c(){l&&l.c()},l(u){l&&l.l(u)},m(u,s){l&&l.m(u,s),t=!0},p(u,s){l&&l.p&&(!t||s&36)&&Ia(l,n,u,u[5],t?Da(n,u[5],s,Af):La(u[5]),wn)},i(u){t||(yr(l,u),t=!0)},o(u){Fr(l,u),t=!1},d(u){l&&l.d(u)}}}function Sf(i){let t,n,l,u,s,c,g,M=i[1]&&yn(i);const b=i[6].default,w=za(b,i,i[5],null);let k=i[2].length>0&&i[0]&&kn(i);return{c(){t=lr("li"),M&&M.c(),n=Cr(),w&&w.c(),l=Cr(),k&&k.c(),this.h()},l($){t=or($,"LI",{class:!0});var m=rr(t);M&&M.l(m),n=Er(m),w&&w.l(m),l=Er(m),k&&k.l(m),m.forEach(R),this.h()},h(){O(t,"class",u=(i[4].class??"")+" group relative flex items-center justify-center h-16")},m($,m){dr($,t,m),M&&M.m(t,null),W(t,n),w&&w.m(t,null),W(t,l),k&&k.m(t,null),s=!0,c||(g=[Pr(t,"mouseenter",i[8]),Pr(t,"mouseleave",i[9])],c=!0)},p($,[m]){$[1]?M?M.p($,m):(M=yn($),M.c(),M.m(t,n)):M&&(M.d(1),M=null),w&&w.p&&(!s||m&32)&&Ia(w,b,$,$[5],s?Da(b,$[5],m,null):La($[5]),null),$[2].length>0&&$[0]?k?(k.p($,m),m&5&&yr(k,1)):(k=kn($),k.c(),yr(k,1),k.m(t,null)):k&&(Ra(),Fr(k,1,1,()=>{k=null}),Oa()),(!s||m&16&&u!==(u=($[4].class??"")+" group relative flex items-center justify-center h-16"))&&O(t,"class",u)},i($){s||(yr(w,$),yr(k),s=!0)},o($){Fr(w,$),Fr(k),s=!1},d($){$&&R(t),M&&M.d(),w&&w.d($),k&&k.d(),c=!1,Le(g)}}}function Nf(i,t,n){let{$$slots:l={},$$scope:u}=t,{tooltip:s=void 0}=t,{options:c=[]}=t,{showOptions:g=!1}=t,M;const b=()=>n(0,g=!1),w=()=>{clearTimeout(M),n(0,g=!0)},k=()=>{n(3,M=setTimeout(()=>n(0,g=!1),300))};return i.$$set=$=>{n(4,t=Ee(Ee({},t),Fe($))),"tooltip"in $&&n(1,s=$.tooltip),"options"in $&&n(2,c=$.options),"showOptions"in $&&n(0,g=$.showOptions),"$$scope"in $&&n(5,u=$.$$scope)},t=Fe(t),[g,s,c,M,t,u,l,b,w,k]}class Mn extends ze{constructor(t){super(),Ie(this,t,Nf,Sf,Pe,{tooltip:1,options:2,showOptions:0})}}function Cn(i,t,n){const l=i.slice();return l[4]=t[n],l[27]=n,l}function En(i){let t,n=i[8],l=[];for(let u=0;u<n.length;u+=1)l[u]=Fn(Cn(i,n,u));return{c(){for(let u=0;u<l.length;u+=1)l[u].c();t=Je()},l(u){for(let s=0;s<l.length;s+=1)l[s].l(u);t=Je()},m(u,s){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(u,s);dr(u,t,s)},p(u,s){if(s&388){n=u[8];let c;for(c=0;c<n.length;c+=1){const g=Cn(u,n,c);l[c]?l[c].p(g,s):(l[c]=Fn(g),l[c].c(),l[c].m(t.parentNode,t))}for(;c<l.length;c+=1)l[c].d(1);l.length=n.length}},d(u){Sn(l,u),u&&R(t)}}}function Fn(i){let t,n=i[4]+"",l,u,s;return{c(){t=lr("div"),l=se(n),u=Cr(),this.h()},l(c){t=or(c,"DIV",{class:!0,style:!0});var g=rr(t);l=fe(g,n),u=Er(g),g.forEach(R),this.h()},h(){O(t,"class",s="marker "+(i[2]?"pl-4":"pt-4")+" svelte-qiwvil"),G(t,"top",i[2]?"":"100%"),G(t,"bottom",(i[2]?i[7][i[27]]:"100")+"%"),G(t,"left",(i[2]?"100":i[7][i[27]])+"%"),G(t,"transform",i[2]?"translateY(50%)":"translateX(-50%)"),dn(t,"vertical",i[2])},m(c,g){dr(c,t,g),W(t,l),W(t,u)},p(c,g){g&4&&s!==(s="marker "+(c[2]?"pl-4":"pt-4")+" svelte-qiwvil")&&O(t,"class",s),g&4&&G(t,"top",c[2]?"":"100%"),g&132&&G(t,"bottom",(c[2]?c[7][c[27]]:"100")+"%"),g&132&&G(t,"left",(c[2]?"100":c[7][c[27]])+"%"),g&4&&G(t,"transform",c[2]?"translateY(50%)":"translateX(-50%)"),g&4&&dn(t,"vertical",c[2])},d(c){c&&R(t)}}}function Pn(i){let t,n,l,u,s,c,g,M,b,w,k,$=i[1]&&i[7]&&En(i);return{c(){t=lr("div"),n=lr("div"),l=lr("span"),u=Cr(),s=lr("div"),c=lr("div"),g=Cr(),$&&$.c(),this.h()},l(m){t=or(m,"DIV",{class:!0});var z=rr(t);n=or(z,"DIV",{class:!0,style:!0});var _=rr(n);l=or(_,"SPAN",{class:!0,style:!0});var I=rr(l);I.forEach(R),u=Er(_),s=or(_,"DIV",{class:!0});var A=rr(s);c=or(A,"DIV",{class:!0}),rr(c).forEach(R),A.forEach(R),g=Er(_),$&&$.l(_),_.forEach(R),z.forEach(R),this.h()},h(){O(l,"class","ui-slider-handle svelte-qiwvil"),G(l,"top",i[2]?"":"50%"),G(l,"bottom",i[2]?i[5]+"%":""),G(l,"left",i[2]?"50%":i[5]+"%"),G(l,"transform","translate(-50%, "+(i[2]?"50%":"-50%")+")"),G(l,"background",i[0]?i[0]:"linear-gradient(#555,#454545)"),O(c,"class","range"),O(s,"class","range-wrapper svelte-qiwvil"),O(n,"class",M="slider-wrapper ui-slider "+(i[2]?"w-5 h-full":"w-full h-5")+" svelte-qiwvil"),G(n,"background",i[3]?`linear-gradient(${i[2]?"0deg":"90deg"}, ${i[3](0).css()} 0%, ${i[3](.33).css()} 33%, ${i[3](.66).css()} 66%, ${i[3](1).css()} 100%)`:"#efefef"),O(t,"class",b=(i[13].class??"")+" wrapper svelte-qiwvil")},m(m,z){dr(m,t,z),W(t,n),W(n,l),W(n,u),W(n,s),W(s,c),W(n,g),$&&$.m(n,null),i[17](t),w||(k=[Pr(l,"mousedown",Nn(i[9])),Pr(n,"click",i[12])],w=!0)},p(m,z){z&4&&G(l,"top",m[2]?"":"50%"),z&36&&G(l,"bottom",m[2]?m[5]+"%":""),z&36&&G(l,"left",m[2]?"50%":m[5]+"%"),z&4&&G(l,"transform","translate(-50%, "+(m[2]?"50%":"-50%")+")"),z&1&&G(l,"background",m[0]?m[0]:"linear-gradient(#555,#454545)"),m[1]&&m[7]?$?$.p(m,z):($=En(m),$.c(),$.m(n,null)):$&&($.d(1),$=null),z&4&&M!==(M="slider-wrapper ui-slider "+(m[2]?"w-5 h-full":"w-full h-5")+" svelte-qiwvil")&&O(n,"class",M),z&12&&G(n,"background",m[3]?`linear-gradient(${m[2]?"0deg":"90deg"}, ${m[3](0).css()} 0%, ${m[3](.33).css()} 33%, ${m[3](.66).css()} 66%, ${m[3](1).css()} 100%)`:"#efefef"),z&8192&&b!==(b=(m[13].class??"")+" wrapper svelte-qiwvil")&&O(t,"class",b)},d(m){m&&R(t),$&&$.d(),i[17](null),w=!1,Le(k)}}}function Tf(i){let t=i[3],n,l,u,s=Pn(i);return{c(){s.c(),n=Je()},l(c){s.l(c),n=Je()},m(c,g){s.m(c,g),dr(c,n,g),l||(u=[Pr(window,"mousemove",Nn(i[10])),Pr(window,"mouseup",i[11])],l=!0)},p(c,[g]){g&8&&Pe(t,t=c[3])?(s.d(1),s=Pn(c),s.c(),s.m(n.parentNode,n)):s.p(c,g)},i:Qr,o:Qr,d(c){c&&R(n),s.d(c),l=!1,Le(u)}}}function zf(i,t,n){let l=t/n;return i<0?l=(Math.abs(i)+t)/n:i>0&&(l=(t-i)/n),l}function If(i,t,n){let{min:l}=t,{max:u}=t,{step:s}=t,{value:c=l}=t,{withRuler:g=!1}=t,{isVertical:M=!1}=t,{background:b=void 0}=t,{handleColor:w=void 0}=t,k,$,m,z=!1,_=zf(l,u,s),I=0,A=0,B=0,er=c,tr=xs(l,u,s),hr;function D(){let P;return l<0?P=(Math.abs(l)+c)/_:l>0?P=(c-l)/_:P=c/_,P}function ir(P){z=!0,A=P.screenX,B=P.screenY,er=c}function j(P){if(z===!1)return;let x;M?x=B-P.screenY:x=P.screenX-A;const Y=Math.round(x*I),sr=er+Y;sr<l?n(14,c=l):sr>u?n(14,c=u):n(14,c=sr)}function br(){z&&(z=!1)}function mr(P){let x;M?x=P.clientY-$.offsetTop:x=P.clientX-$.offsetLeft;let Y=Math.round(x*_/m);M&&(Y=_-Y),n(14,c=tr[Y])}Ta(()=>{if(m=M?$.offsetHeight:$.offsetWidth,I=_/m,n(7,hr=tr.map((P,x)=>100*x/_)),b){const P=D();n(0,w=b(P).css())}});function gr(P){Or[P?"unshift":"push"](()=>{$=P,n(6,$)})}return i.$$set=P=>{n(13,t=Ee(Ee({},t),Fe(P))),"min"in P&&n(15,l=P.min),"max"in P&&n(16,u=P.max),"step"in P&&n(4,s=P.step),"value"in P&&n(14,c=P.value),"withRuler"in P&&n(1,g=P.withRuler),"isVertical"in P&&n(2,M=P.isVertical),"background"in P&&n(3,b=P.background),"handleColor"in P&&n(0,w=P.handleColor)},i.$$.update=()=>{if(i.$$.dirty&16392&&c!==void 0){const P=D();n(5,k=P*100),b&&n(0,w=b(P).css())}},t=Fe(t),[w,g,M,b,s,k,$,hr,tr,ir,j,br,mr,t,c,l,u,gr]}class An extends ze{constructor(t){super(),Ie(this,t,If,Tf,Pe,{min:15,max:16,step:4,value:14,withRuler:1,isVertical:2,background:3,handleColor:0})}}const{window:Lf}=Ys;function Df(i){let t;return{c(){t=lr("span"),this.h()},l(n){t=or(n,"SPAN",{class:!0,style:!0}),rr(t).forEach(R),this.h()},h(){O(t,"class","block bg-[#454545] rounded-full"),G(t,"width",i[5]+"px"),G(t,"height",i[5]+"px")},m(n,l){dr(n,t,l)},p(n,l){l[0]&32&&G(t,"width",n[5]+"px"),l[0]&32&&G(t,"height",n[5]+"px")},d(n){n&&R(t)}}}function Rf(i){let t,n,l,u;function s(){return i[19](i[37])}return{c(){t=lr("button"),n=lr("span"),this.h()},l(c){t=or(c,"BUTTON",{class:!0,slot:!0});var g=rr(t);n=or(g,"SPAN",{class:!0,style:!0}),rr(n).forEach(R),g.forEach(R),this.h()},h(){O(n,"class","block bg-[#454545] rounded-full"),G(n,"width",i[37]+"px"),G(n,"height",i[37]+"px"),O(t,"class","flex items-center justify-center hover:bg-slate-200 rounded-md"),O(t,"slot","option")},m(c,g){dr(c,t,g),W(t,n),l||(u=Pr(t,"click",s),l=!0)},p(c,g){i=c,g[1]&64&&G(n,"width",i[37]+"px"),g[1]&64&&G(n,"height",i[37]+"px")},d(c){c&&R(t),l=!1,u()}}}function Of(i){let t,n,l,u,s,c,g;return{c(){t=lr("button"),n=We("svg"),l=We("path"),u=We("path"),s=We("path"),this.h()},l(M){t=or(M,"BUTTON",{class:!0});var b=rr(t);n=Ze(b,"svg",{xmlns:!0,class:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var w=rr(n);l=Ze(w,"path",{stroke:!0,d:!0,fill:!0}),rr(l).forEach(R),u=Ze(w,"path",{d:!0}),rr(u).forEach(R),s=Ze(w,"path",{d:!0}),rr(s).forEach(R),w.forEach(R),b.forEach(R),this.h()},h(){O(l,"stroke","none"),O(l,"d","M0 0h24v24H0z"),O(l,"fill","none"),O(u,"d","M9 14l-4 -4l4 -4"),O(s,"d","M5 10h11a4 4 0 1 1 0 8h-1"),O(n,"xmlns","http://www.w3.org/2000/svg"),O(n,"class","icon icon-tabler icon-tabler-arrow-back-up"),O(n,"width","32"),O(n,"height","32"),O(n,"viewBox","0 0 24 24"),O(n,"stroke-width","2"),O(n,"stroke","currentColor"),O(n,"fill","none"),O(n,"stroke-linecap","round"),O(n,"stroke-linejoin","round"),O(t,"class","flex items-center justify-center w-full h-full hover:bg-slate-200 hover:cursor-pointer rounded-md")},m(M,b){dr(M,t,b),W(t,n),W(n,l),W(n,u),W(n,s),c||(g=Pr(t,"click",i[15]),c=!0)},p:Qr,d(M){M&&R(t),c=!1,g()}}}function qf(i){let t,n,l,u;return t=new Mn({props:{tooltip:"Pencil size",options:Object.values(In),$$slots:{option:[Rf,({value:s})=>({37:s}),({value:s})=>[0,s?64:0]],default:[Df]},$$scope:{ctx:i}}}),l=new Mn({props:{class:"p-1",tooltip:"Undo",$$slots:{default:[Of]},$$scope:{ctx:i}}}),{c(){ue(t.$$.fragment),n=Cr(),ue(l.$$.fragment)},l(s){ce(t.$$.fragment,s),n=Er(s),ce(l.$$.fragment,s)},m(s,c){ve(t,s,c),dr(s,n,c),ve(l,s,c),u=!0},p(s,c){const g={};c[0]&32|c[1]&192&&(g.$$scope={dirty:c,ctx:s}),t.$set(g);const M={};c[1]&128&&(M.$$scope={dirty:c,ctx:s}),l.$set(M)},i(s){u||(yr(t.$$.fragment,s),yr(l.$$.fragment,s),u=!0)},o(s){Fr(t.$$.fragment,s),Fr(l.$$.fragment,s),u=!1},d(s){he(t,s),s&&R(n),he(l,s)}}}function Vf(i){let t,n,l,u,s,c,g,M,b,w,k;return{c(){t=lr("div"),n=lr("p"),l=se("Please choose a persona:"),u=Cr(),s=lr("button"),c=se("Female"),g=Cr(),M=lr("button"),b=se("Male"),this.h()},l($){t=or($,"DIV",{class:!0});var m=rr(t);n=or(m,"P",{});var z=rr(n);l=fe(z,"Please choose a persona:"),z.forEach(R),u=Er(m),s=or(m,"BUTTON",{class:!0});var _=rr(s);c=fe(_,"Female"),_.forEach(R),g=Er(m),M=or(m,"BUTTON",{class:!0});var I=rr(M);b=fe(I,"Male"),I.forEach(R),m.forEach(R),this.h()},h(){O(s,"class","py-2 px-4 bg-blue-600 hover:bg-blue-500 rounded shadow text-white"),O(M,"class","py-2 px-4 bg-blue-600 hover:bg-blue-500 rounded shadow text-white"),O(t,"class","flex-grow relative")},m($,m){dr($,t,m),W(t,n),W(n,l),W(t,u),W(t,s),W(s,c),W(t,g),W(t,M),W(M,b),w||(k=[Pr(s,"click",i[22]),Pr(M,"click",i[23])],w=!0)},p:Qr,i:Qr,o:Qr,d($){$&&R(t),w=!1,Le(k)}}}function Bf(i){let t,n,l,u,s,c,g={persona:i[1]==="Female"?"FemaleFront":"MaleFront",brushSize:i[5],brushColor:Nr(i[7]).hex()};n=new bn({props:g}),i[20](n),n.$on("canDrawUpdate",i[14]),n.$on("drawingStart",i[16]),n.$on("drawingEnd",i[17]);let M={persona:i[1]==="Female"?"FemaleBack":"MaleBack",brushSize:i[5],brushColor:Nr(i[7]).hex()};return s=new bn({props:M}),i[21](s),s.$on("canDrawUpdate",i[14]),s.$on("drawingStart",i[16]),s.$on("drawingEnd",i[17]),{c(){t=lr("div"),ue(n.$$.fragment),l=Cr(),u=lr("div"),ue(s.$$.fragment),this.h()},l(b){t=or(b,"DIV",{class:!0});var w=rr(t);ce(n.$$.fragment,w),w.forEach(R),l=Er(b),u=or(b,"DIV",{class:!0});var k=rr(u);ce(s.$$.fragment,k),k.forEach(R),this.h()},h(){O(t,"class","flex-grow relative"),O(u,"class","flex-grow relative")},m(b,w){dr(b,t,w),ve(n,t,null),dr(b,l,w),dr(b,u,w),ve(s,u,null),c=!0},p(b,w){const k={};w[0]&2&&(k.persona=b[1]==="Female"?"FemaleFront":"MaleFront"),w[0]&32&&(k.brushSize=b[5]),w[0]&128&&(k.brushColor=Nr(b[7]).hex()),n.$set(k);const $={};w[0]&2&&($.persona=b[1]==="Female"?"FemaleBack":"MaleBack"),w[0]&32&&($.brushSize=b[5]),w[0]&128&&($.brushColor=Nr(b[7]).hex()),s.$set($)},i(b){c||(yr(n.$$.fragment,b),yr(s.$$.fragment,b),c=!0)},o(b){Fr(n.$$.fragment,b),Fr(s.$$.fragment,b),c=!1},d(b){b&&R(t),i[20](null),he(n),b&&R(l),b&&R(u),i[21](null),he(s)}}}function Gf(i){let t,n,l,u,s,c,g,M,b,w,k,$,m,z,_,I,A,B,er,tr,hr,D,ir,j,br,mr,gr,P,x,Y,sr,Tr;u=new Ff({props:{class:"w-16",$$slots:{default:[qf]},$$scope:{ctx:i}}});const Dr=[Bf,Vf],kr=[];function Yr(L,ar){return L[1]?0:1}c=Yr(i),g=kr[c]=Dr[c](i);function Xr(L){i[24](L)}function xr(L){i[25](L)}function Hr(L){i[26](L)}let Ar={class:"h-96 mt-4",min:0,max:10,step:1,withRuler:!0,isVertical:!0};i[8]!==void 0&&(Ar.value=i[8]),i[10]!==void 0&&(Ar.background=i[10]),i[7]!==void 0&&(Ar.handleColor=i[7]),m=new An({props:Ar}),Or.push(()=>Me(m,"value",Xr)),Or.push(()=>Me(m,"background",xr)),Or.push(()=>Me(m,"handleColor",Hr));function V(L){i[27](L)}function Rr(L){i[28](L)}function Ur(L){i[29](L)}let zr={class:"w-96 mx-auto",min:-5,max:5,step:1,withRuler:!0};return i[9]!==void 0&&(zr.value=i[9]),i[11]!==void 0&&(zr.background=i[11]),i[0]!==void 0&&(zr.handleColor=i[0]),ir=new An({props:zr}),Or.push(()=>Me(ir,"value",V)),Or.push(()=>Me(ir,"background",Rr)),Or.push(()=>Me(ir,"handleColor",Ur)),{c(){t=lr("section"),n=lr("div"),l=lr("div"),ue(u.$$.fragment),s=Cr(),g.c(),M=Cr(),b=lr("div"),w=lr("label"),k=se("Intensity"),$=Cr(),ue(m.$$.fragment),A=Cr(),B=lr("div"),er=lr("div"),tr=lr("label"),hr=se("Valence"),D=Cr(),ue(ir.$$.fragment),gr=Cr(),P=lr("div"),this.h()},l(L){t=or(L,"SECTION",{class:!0});var ar=rr(t);n=or(ar,"DIV",{class:!0});var Ir=rr(n);l=or(Ir,"DIV",{class:!0});var Jr=rr(l);ce(u.$$.fragment,Jr),Jr.forEach(R),s=Er(Ir),g.l(Ir),M=Er(Ir),b=or(Ir,"DIV",{class:!0});var qr=rr(b);w=or(qr,"LABEL",{class:!0});var Wr=rr(w);k=fe(Wr,"Intensity"),Wr.forEach(R),$=Er(qr),ce(m.$$.fragment,qr),qr.forEach(R),Ir.forEach(R),A=Er(ar),B=or(ar,"DIV",{class:!0});var Kr=rr(B);er=or(Kr,"DIV",{class:!0});var De=rr(er);tr=or(De,"LABEL",{class:!0});var Re=rr(tr);hr=fe(Re,"Valence"),Re.forEach(R),De.forEach(R),D=Er(Kr),ce(ir.$$.fragment,Kr),Kr.forEach(R),ar.forEach(R),gr=Er(L),P=or(L,"DIV",{class:!0,style:!0}),rr(P).forEach(R),this.h()},h(){O(l,"class","self-center flex flex-col items-center w-1/5"),O(w,"class","py-1 px-2 bg-neutral-900 rounded-md text-white text-sm font-semibold"),O(b,"class","self-center flex flex-col items-center justify-center w-1/5 h-full"),O(n,"class","flex w-full h-3/4"),O(tr,"class","py-1 px-2 bg-neutral-900 rounded-md text-white text-sm font-semibold"),O(er,"class","flex justify-center py-3"),O(B,"class","self-center justify-self-center w-full h-1/4"),O(t,"class","flex flex-col w-full h-full"),O(P,"class",x=(i[6]?"absolute":"hidden")+" top-0 left-0 rounded-full transform-gpu"),G(P,"width",i[5]+"px"),G(P,"height",i[5]+"px"),G(P,"background-color",i[7]),G(P,"transform","translate3d("+i[12]+"px, "+i[13]+"px, 0)")},m(L,ar){dr(L,t,ar),W(t,n),W(n,l),ve(u,l,null),W(n,s),kr[c].m(n,null),W(n,M),W(n,b),W(b,w),W(w,k),W(b,$),ve(m,b,null),W(t,A),W(t,B),W(B,er),W(er,tr),W(tr,hr),W(B,D),ve(ir,B,null),dr(L,gr,ar),dr(L,P,ar),i[30](P),Y=!0,sr||(Tr=Pr(Lf,"mousemove",i[18]),sr=!0)},p(L,ar){const Ir={};ar[0]&32|ar[1]&128&&(Ir.$$scope={dirty:ar,ctx:L}),u.$set(Ir);let Jr=c;c=Yr(L),c===Jr?kr[c].p(L,ar):(Ra(),Fr(kr[Jr],1,1,()=>{kr[Jr]=null}),Oa(),g=kr[c],g?g.p(L,ar):(g=kr[c]=Dr[c](L),g.c()),yr(g,1),g.m(n,M));const qr={};!z&&ar[0]&256&&(z=!0,qr.value=L[8],Ce(()=>z=!1)),!_&&ar[0]&1024&&(_=!0,qr.background=L[10],Ce(()=>_=!1)),!I&&ar[0]&128&&(I=!0,qr.handleColor=L[7],Ce(()=>I=!1)),m.$set(qr);const Wr={};!j&&ar[0]&512&&(j=!0,Wr.value=L[9],Ce(()=>j=!1)),!br&&ar[0]&2048&&(br=!0,Wr.background=L[11],Ce(()=>br=!1)),!mr&&ar[0]&1&&(mr=!0,Wr.handleColor=L[0],Ce(()=>mr=!1)),ir.$set(Wr),(!Y||ar[0]&64&&x!==(x=(L[6]?"absolute":"hidden")+" top-0 left-0 rounded-full transform-gpu"))&&O(P,"class",x),(!Y||ar[0]&32)&&G(P,"width",L[5]+"px"),(!Y||ar[0]&32)&&G(P,"height",L[5]+"px"),(!Y||ar[0]&128)&&G(P,"background-color",L[7]),(!Y||ar[0]&12288)&&G(P,"transform","translate3d("+L[12]+"px, "+L[13]+"px, 0)")},i(L){Y||(yr(u.$$.fragment,L),yr(g),yr(m.$$.fragment,L),yr(ir.$$.fragment,L),Y=!0)},o(L){Fr(u.$$.fragment,L),Fr(g),Fr(m.$$.fragment,L),Fr(ir.$$.fragment,L),Y=!1},d(L){L&&R(t),he(u),kr[c].d(),he(m),he(ir),L&&R(gr),L&&R(P),i[30](null),sr=!1,Tr()}}}const Yf=2e4;function Xf(){var n;const t=(n=new URLSearchParams(window.location.search).get("persona"))==null?void 0:n.toLowerCase();if(t==="female")return"Female";if(t==="male")return"Male"}function Uf(i,t,n){let l,u,s,c,g=In.MEDIUM,M=!1,b="black",w=0,k=0,$=Nr.scale([Nr("white"),Nr("green")]),m=Nr.scale([Nr("red"),Nr("green")]),z,_,I,A=[],B,er=0,tr=0;function hr({detail:V}){V!==M&&(n(6,M=V),console.log(M))}function D(){ir()}function ir(){const V=A.pop();if(V){const Rr=V.canvasElement.getContext("2d"),Ur=V.canvasElement.width,zr=V.canvasElement.height,L=new Image;L.src=V.data,L.onload=function(){Rr==null||Rr.clearRect(0,0,Ur,zr),Rr==null||Rr.drawImage(L,0,0,Ur,zr,0,0,Ur,zr)}}}function j({detail:V}){_=V.canvas,I=V.canvas.toDataURL()}function br({detail:V}){var Ur,zr,L,ar;if(_==null||I==null||u==null||s==null)return;A.push({canvasElement:_,data:I,stroke:{persona:V.persona,svg:V.svg,valence:k,intensity:w,color:Nr(b).hex()}});const Rr=A.map(Ir=>Ir.stroke);B=JSON.stringify({personas:[{persona:u.persona,width:(Ur=u.canvas)==null?void 0:Ur.width,height:(zr=u.canvas)==null?void 0:zr.height},{persona:s.persona,width:(L=s.canvas)==null?void 0:L.width,height:(ar=s.canvas)==null?void 0:ar.height}],strokes:Rr}),B.length>=Yf&&(alert("Sorry, the drawing exceeds the allowed size. Your last stroke cannot be saved."),ir()),mr(),_=void 0,I=void 0}function mr(){parent.postMessage({event:"interomap_data",output:B},"*")}function gr(V){M?(document.body.style.cursor="none",n(12,er=V.clientX),n(13,tr=V.clientY)):document.body.style.cursor="auto"}Ta(()=>{n(1,l=Xf())});const P=V=>n(5,g=V);function x(V){Or[V?"unshift":"push"](()=>{u=V,n(2,u)})}function Y(V){Or[V?"unshift":"push"](()=>{s=V,n(3,s)})}const sr=()=>n(1,l="Female"),Tr=()=>n(1,l="Male");function Dr(V){w=V,n(8,w)}function kr(V){$=V,n(10,$),n(0,z)}function Yr(V){b=V,n(7,b)}function Xr(V){k=V,n(9,k)}function xr(V){m=V,n(11,m)}function Hr(V){z=V,n(0,z)}function Ar(V){Or[V?"unshift":"push"](()=>{c=V,n(4,c)})}return i.$$.update=()=>{i.$$.dirty[0]&1&&z&&n(10,$=Nr.scale([Nr("white"),Nr(z)]))},[z,l,u,s,c,g,M,b,w,k,$,m,er,tr,hr,D,j,br,gr,P,x,Y,sr,Tr,Dr,kr,Yr,Xr,xr,Hr,Ar]}class Wf extends ze{constructor(t){super(),Ie(this,t,Uf,Gf,Pe,{},null,[-1,-1])}}export{Wf as default};
